===============================================================================

Originator: njn01
Date:  27 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090227
Summary of Changes:  
     * Update pop2_in_build.csh to reflect most recent hmix_gm eg namelist parameters
Testing:  Gokhan, Markus
Reviewer: None

From Markus:
Hi Nancy,

here is our best estimate for the constants:

   const_eg               = 0.8
   gamma_eg               = 300.0
   kappa_min_eg           = 0.35e7
   kappa_max_eg           = 2.5e7

                      Cheers,
                       Markus

M           14585   ChangeLog
M           14585   input_templates/pop2_in_build.csh

===============================================================================
Originator: njn01
Date:  26 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090226
Summary of Changes:  
     * Update movie.F90 to support high-resolution work
Testing:  See walkthrough summary/test log for details and testing
Reviewer: Gokhan

M           14563   source/surface_hgt.F90
M           14563   source/diagnostics.F90
M           14563   source/step_mod.F90
M           14563   source/movie.F90
M           14563   source/forcing.F90
M           14563   source/baroclinic.F90
M           14563   ChangeLog
M           14563   input_templates/gx1v6_movie_contents
M           14563   input_templates/tx1v1_movie_contents
M           14563   input_templates/gx1v5_movie_contents
M           14563   input_templates/gx1v5b_movie_contents
M           14563   input_templates/gx3v6_movie_contents
M           14563   input_templates/tx0.1v2_movie_contents
M           14563   input_templates/gx3v5_movie_contents
Status against revision:  14563

===============================================================================
Originator: njn01
Date:  24 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090224
Summary of Changes:  
     * Change const_eg = 1.0 ---> const_eg  = 0.8
Testing:  Markus C compset control run
Reviewer: Gokhan

be1105en/fis/cgd/cseg/people/njn01/tags/pop2% svn status -u
M           14542   ChangeLog
M           14542   input_templates/pop2_in_build.csh

===============================================================================
Originator: njn01
Date:  23 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090223b
Summary of Changes:  
     * Change path for output files from full pathname to relative filename
     * Fix timer_total
     * Eliminate references to ccsm3 timers (SEND,RECV,RECV to SEND, and SEND to RECV)
Testing:
     * /fis01/cgd/cseg/people/njn01/test/rpointer 
          gx1v5 C two-month restart
          gx1v5 C 8-day restart
     * /fis01/cgd/cseg/people/njn01/test/timers
          gx1v5 C one-month runs with and without timers changes

M           14535   source/forcing_coupled.F90
M           14536   input_templates/pop2_in_build.csh
M           14535   ChangeLog
M           14535   drivers/ccsm_cpl7/ocn_comp_mct.F90
Status against revision:  14537


===============================================================================
Originator: njn01
Date:  23 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090223
Summary of Changes:  
     * new hmix_gm.F90 option: Eden and Greatbatch
     * small correction to hmix_gm.F90 (TAPER2; Gokhan; identified several years ago)
     * pop2_in_build.csh modified to support Eden and Greatbatch option (on by default)
Testing:
   (1) out-of-box, 1-month, gx1v5 C
   (2) same as (1), except use new hmix_gm.F90 and pop2_in_build.csh with eg option
       off ***and*** TAPER2 correction turned off.  Should be b4b with (1)
   (3) same as (2), except TAPER2 correction turned on and new hmix_gm_eg test.
       This will NOT be b4b. Compare timing only.
   (4) same as (3), except enable edgr option
   (5) same as (4), except *disable* edgr option  (should be b4b with (3), but
       this test uses the new pop2_in_build.csh and hmix_gm.F90 code that will be
       checked in)


===============================================================================
Originator: njn01
Date:  
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090218
Summary of Changes:  
     * Add gx1v6 support
     * Add support for startup/spunup *.hdr file
     * Write tavg error message on all procs
     * Add extra info to io_netcdf.F90 error message
           ("string too short") to help eliminate confusion
     * Modify tx0.1v2_inputdata to reflect approved inputdata dataset names

Process:
    Get gx1v6 datasets from Steve Yeager. Modify pop2_in_build.csh
    to recognize gx1v6. Check gx1v6 datasets into inputdata and $SVN data
    repo.  Create gx1v6_input_data, pointing to new gx1v6 datasets.
    Modify pop_decomp.xml to recognize gx1v6. 

Testing (njn01):
     Modify ccsm4_0_beta09 (cice, clm, dice, dlnd, datm, scripts, pop2).
     Set up B compset. Compare $comp_in for comp = (drv,ice,lnd,atm,pop)
     with Steve Yeager's b40.008o case. Diff'd ocean and ice datasets
     with Steve Yeager's b40.008o case.
 
     Set up C compset. Will need new gx1v6 datasets before testing
     can be completed.  

     This tag will be updated, if necessary, after full gx1v6 test suite
     is completed.

M           12820   source/io_netcdf.F90
M           13884   source/hmix_gm.F90
M           12674   source/tavg.F90
M           14024   bld/pop2.cpl7.template
M           13884   bld/pop_decomp.xml
M           12674   bld/generate_pop_decomp.pl
A               0   input_templates/gx1v6_region_ids
M           12674   input_templates/tx0.1v2_inputdata
A               0   input_templates/gx1v6_transport_contents
A               0   input_templates/gx1v6_movie_contents
A               0   input_templates/gx1v6_domain_size.F90
A               0   input_templates/gx1v6_POP_DomainSizeMod.F90
A               0   input_templates/gx1v6_history_contents
A               0   input_templates/gx1v6_tavg_contents
A               0   input_templates/gx1v6_overflow
A               0   input_templates/gx1v6_vert_grid
A               0   input_templates/gx1v6_inputdata
A               0   input_templates/gx1v6_depth_accel
M           13884   input_templates/pop2_in_build.csh
M           14024   ChangeLog
Status against revision:  14443

===============================================================================
Originator: njn01
Date:  Wed Jan 21 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090121
Summary of Changes:  Correct bug #890 (branch start bug)

Testing:  
     njn01: Set up control run and branch case using ccsm4_0_beta08 tag.
            Modify $case/Tools/Template/pop2.cpl7.template to correct the bug.
            Build branch case (using new pop2.cpl7.template) and run. Confirm
            that rpointer files are generated correctly and that the branch
            case runs for five days.

M           13801   bld/pop2.cpl7.template
M           13884   ChangeLog
Status against revision:  14023


===============================================================================
Originator: njn01
Date:  Fri Jan 9 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090109
Summary of Changes:  
   1) New overflows.F90 module and gx1v5b_overflow input file from
      Bruce B and Gokhan. The overflows.F90 module has been used
      extensively in recent runs; njn01 modified it to be consistent
      with the changes made in ccsm_pop_2_1_20090107a
   2) tx0.1v2_tavg_contents file from a38hr02_hrpop43 (JD mods)
   3) pop2_in_build.csh vmix_kpp_nml tx0.1v2 update
   4) Comment out call MPI_BARRIER in POP_CommMod.F90 (JD mod)
   5) Only check COMPUTE_TLT in hmix_gm.F90 if not _HIRES
   6) Add new tx0.1v2 blocks to pop_decomp.xml file (from a38hr02_hrpop43 tag)

Testing:  
   1) Bruce B confirmed on 9 Jan 2009 that the resulting overflows *.do* files are ok
   2) Compile and run a one-month gx1v5 C case.
   3) No testing of tx0.1v2 mods, beyond inspection

M           13817   source/overflows.F90
M           13010   source/hmix_gm.F90
M           12820   bld/pop_decomp.xml
M           12674   mpi/POP_CommMod.F90
M           13010   input_templates/gx1v5b_overflow
M           12674   input_templates/tx0.1v2_tavg_contents
M           13817   input_templates/pop2_in_build.csh
M           13819   ChangeLog

===============================================================================
Originator: klindsay
Date:  Wed Jan 7 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090107b
Summary of Changes:  
Add time-filtering of surface Chl to initialization so that it is
consistent with the time-filtering in the main time loop. Move set_chl
call in subroutine set_surface_forcing of forcing.F90 to eliminate
time-lag in prognostic Chl.

Testing:  
The mods ensure exact restart for compset CECO at resolutions T62_g35 &
T62_g15. They do not change results (bit-for-bit) for compset B at
resolution f19_g15 or for compset C at resolutions T62_g35 & T62_g15.
The bit-for-bit verification is for a 5 day startup run with
CONTINUE_RUN==FALSE as well as a 5 day continuation.

M           12674   source/sw_absorption.F90
M           12674   source/forcing.F90
M           12674   source/passive_tracers.F90
M           12892   source/ecosys_mod.F90
M           13817   ChangeLog

===============================================================================
Originator: njn01
Date:  Wed Jan 7 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090107a
Summary of Changes:  Remove system calls from diagnostics.F90 and overflows.F90
Testing:  C compset, gx1v5 and gx3v5. Confirm output diagnostics
   files are named with beginning model date, by inspection
   Gokhan and Bruce confirmed diagnostics files are ok. 

M           13010   source/overflows.F90
M           12674   source/initial.F90
M           12674   source/diagnostics.F90
M           13010   input_templates/pop2_in_build.csh
M           13801   ChangeLog

===============================================================================
Originator: njn01
Date:  Wed Jan 7 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090107
Summary of Changes:  new pop2.cpl7.template file that is consistent
 with ccsm script changes in the ccsm4_0_beta07 tag. Provided by tcraig.
Testing:  Testing by tcraig.

M           13010   bld/pop2.cpl7.template
M           13010   ChangeLog

===============================================================================
Originator: njn01
Date:  Fri Nov 21 2008
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20081121
Testing:  2-month gx1v5b exact restart tests, C and B compsets
----------------------------------------------------------------
Summary of Changes:  
   * Correct bugs in overflows product water code
   * Add support for gx1v5b resolution
   * Delete support for gx1v5a resolution
   * Correct bug in hmix_gm.F90 consistency checks
   * Widen support for external environments in pop2.cpl7.template (TC mod)
----------------------------------------------------------------
M           12674   source/overflows.F90
M           12674   source/hmix_gm.F90
M           12674   source/barotropic.F90
M           12674   bld/pop2.cpl7.template
D           12674   input_templates/gx1v5a_transport_contents
A               0   input_templates/gx1v5b_vert_grid
A               0   input_templates/gx1v5b_inputdata
D           12674   input_templates/gx1v5a_movie_contents
D           12674   input_templates/gx1v5a_domain_size.F90
A               0   input_templates/gx1v5b_domain_size.F90
D           12674   input_templates/gx1v5a_POP_DomainSizeMod.F90
D           12674   input_templates/gx1v5a_history_contents
D           12674   input_templates/gx1v5a_tavg_contents
D           12674   input_templates/gx1v5a_overflow
A               0   input_templates/gx1v5b_history_contents
A               0   input_templates/gx1v5b_region_ids
D           12674   input_templates/gx1v5a_vert_grid
D           12674   input_templates/gx1v5a_inputdata
D           12674   input_templates/gx1v5a_depth_accel
A               0   input_templates/gx1v5b_depth_accel
A               0   input_templates/gx1v5b_overflow
A               0   input_templates/gx1v5b_transport_contents
A               0   input_templates/gx1v5b_POP_DomainSizeMod.F90
A               0   input_templates/gx1v5b_tavg_contents
D           12674   input_templates/gx1v5a_region_ids
A               0   input_templates/gx1v5b_movie_contents
M           12820   input_templates/pop2_in_build.csh
M           12892   ChangeLog

===============================================================================
Originator: njn01
Date: 
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20081117
Testing:  see testing log on web page
Summary of Changes:  OpenMP corrections; fixes bug 852
M           12674   source/diags_on_lat_aux_grid.F90  (OMP corrections)
M           12674   source/POP_SolversMod.F90         (OMP corrections)
M           12674   source/budget_diagnostics.F90     (OMP corrections)
M           12674   source/cfc11_mod.F90              (OMP corrections)
M           12674   source/ecosys_mod.F90             (OMP corrections)
M           12820   ChangeLog


===============================================================================
Originator: njn01
Date: Mon Nov 10 12::10 MST 2008
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20081110
Testing:  
History: 
Summary of Changes: 
    * bugfix for TAVG_R8 3D tavg netCDF output
    * bugfix for history.F90: add target attribute
    * add support for gx3v6 to pop_decomp.xml
    * added executable property to pop2_in_build.csh
      using the command "svn propset svn:executable ON pop2_in_build.csh"
      in in the pop2/input_templates directory:
            Property changes on: input_templates/pop2_in_build.csh
            ___________________________________________________________________
            Added: svn:executable
               + *

===============================================================================
Originator: njn01
Date: Fri 31 Oct 2008
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20081031
Testing:  
History: 
Summary of Changes: This tag is based upon /pop2/branch_tags/hrpop_tags/hrpop61_ccsm_pop_2_1_20080125
  Differences from hrpop61 include:
       * removal of cpl6 support.
       * the use of shr_sys_abort where needed (as a CCSMCOUPLED option that will remain in place 
         until Phil's new error trapping is fully functional)
       * error-trapping for SHF_QSW < epsilon in the high-res version
       * corrections to high-res settings in pop2_in_build.csh
       * parallel i/o development routines have not yet been ported to the pop2 trunk



===============================================================================

