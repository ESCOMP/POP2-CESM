
===============================================================================
Tag Creator: njn01
Tag Date:    9  November 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20091109
Tag Testing:  see testing log on ccsm pop2 documentation page
            
Tag Summary:  Replace user-defined constants with ccsm shared constants
              in the overflows.F90 module
 
M           19130   source/overflows.F90
===============================================================================
Tag Creator: njn01
Tag Date:    1  November 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20091101
Tag Testing:  
            
Tag Summary:  Change H2 --> SSH2 in those tavg_contents files that had not
              been updated to reflect the name change introduced in the
              ccsm_pop_2_1_20090911 tag
 
M           18834   input_templates/test_sample_tavg_contents
M           18834   input_templates/tx1v1_tavg_contents
M           18834   input_templates/tx0.1v2_tavg_contents

===============================================================================
Tag Creator: njn01
Tag Date:    30  October 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20091030
Tag Testing:  
            
Tag Summary:  1) move *.f90 files to $EXEDIR/ocn/source/f90, should they exist
              2) redirect pop2 buildnml messages to $CASE/Buildconf/pop2doc

M           18835   bld/pop2.cpl7.template
M           18835   input_templates/ocn.cfc.setup.csh
M           18835   input_templates/ocn.ecosys.setup.csh
M           18835   input_templates/ocn.cfc11.setup.csh
M           18835   input_templates/ocn.iage.setup.csh

===============================================================================
Tag Creator: njn01
Tag Date:    12  October 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20091012
Tag Testing:  
            
Tag Summary:  Eliminate LANL/CCSM branch definition conflict and fix minor
 problem with tripole grid settings in pop2_in_build.csh

M           18792   source/overflows.F90
M           18792   source/initial.F90
M           18792   source/iage_mod.F90
M           18792   source/cfc_mod.F90
M           18792   source/cfc11_mod.F90
M           18792   source/ecosys_mod.F90
M           18792   source/restart.F90
M           18792   bld/pop2.cpl7.template
M           18792   input_templates/ocn.iage.setup.csh
M           18792   input_templates/ocn.ecosys.setup.csh
M           18792   input_templates/pop2_in_build.csh
M           18792   input_templates/test_pop2_in_build.csh
M           18792   input_templates/ocn.cfc.setup.csh
M           18792   input_templates/ocn.cfc11.setup.csh
            
===============================================================================
Tag Creator: njn01
Tag Date:    2  October 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20091002
Tag Testing:  
            
Tag Summary:  Fix diagnostics problem (to be filled in later)
            
M           18710   source/tavg.F90


===============================================================================
Tag Creator: njn01
Tag Date:    1  October 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20091001a
Tag Testing:  Visual inspection of gx1v6 tavg fields (*.pop.h.* files)
            
Tag Summary: Small corrections for the new fields generated by tavg.F90 in 
             the ccsm_pop_2_1_20091001 tag.

M           18703   source/vmix_kpp.F90
M           18703   source/vertical_mix.F90
M           18703   source/tavg.F90
===============================================================================
Tag Creator: njn01
Tag Date:    1  October 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20091001
Tag Testing:  Debug smoke tests gx1v6 and gx3v7. Code walkthrough with Gokhan.
              Two-month gx1v6 test and review of new output fields by Gokhan.
            
Tag Summary: Add support for remaining CMIP5 output fields. Add z_w_bot
             dimension, and modify diagnostics computations so that
             vertical dimensions are consistent between code and the tavg file
             and internally consistent within the tavg file.

M           18702   source/overflows.F90
M           18702   source/vmix_kpp.F90
M           18702   source/vertical_mix.F90
M           18702   source/ecosys_mod.F90
M           18702   source/tavg.F90
M           18702   input_templates/pop2_in_build.csh
M           18702   input_templates/gx1v6_tavg_contents
M           18702   input_templates/gx1v5_tavg_contents
M           18702   input_templates/gx3v5_tavg_contents
M           18702   input_templates/gx3v7_tavg_contents
===============================================================================
Tag Creator: njn01
Tag Date:    30  September 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20090930
Tag Testing: 5-day + 5-day smoke test; 10-day + 25-day smoke test 
             (test regular and restart history files)
Tag Summary: Fix bug introduced in ccsm_pop_2_1_20090929 tag that affected
             the creation of tavg restart files (*.rh.* files)

M           18687   source/tavg.F90
===============================================================================
Tag Creator: njn01
Tag Date:    29  September 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20090929
Tag Testing: two-month C gx1v6 side-by-side comparison with ccsm4_0_beta23 tag
Tag Summary: Restore the "bounds" attribute to time coordinate 

M           18616   source/tavg.F90
===============================================================================
Tag Creator: njn01
Tag Date:    28  September 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20090928
Tag Testing: see pop2 documentation page for testing lists. Will also be tested
             in ccsm4 pre-tag testing.
Tag Summary:

   This tag writes time-dependent time_bound information to tavg timeseries output files.

M           18520   source/io_netcdf.F90
M           18520   source/tavg.F90

===============================================================================
Tag Creator: njn01
Tag Date:    25  September 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20090925
Tag Testing: see pop2 documentation page for testing lists. Will also be tested
             in ccsm4 pre-tag testing.
Tag Summary:

   This tag contains major changes to the tavg.F90 and supporting modules. The
   new code allows for the creation of tavg timeseries files "on-the-fly",
   and by default, the code is set up to create timeseries files of the daily
   tavg history fields.

   Further testing of this tag may result in changes/corrections. 

 
M           18462   source/io_types.F90
M           18462   source/io.F90
M           18462   source/io_netcdf.F90
M           18462   source/tavg.F90
M           18462   ChangeLog
M           18462   input_templates/pop2_in_build.csh
M           18462   input_templates/gx1v6_tavg_contents
M           18462   input_templates/gx3v5_tavg_contents
M           18462   input_templates/gx3v7_tavg_contents

===============================================================================
Tag Creator: njn01
Tag Date:    24  September 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20090924
Tag Testing: ccsm4_0_beta27 post-tag testing
Tag Summary:
 
  Correct a problem in diagnostics.F90 when tavg HMXL_2 is NOT requested
  (nonstandard usage).
===============================================================================
Tag Creator: njn01
Tag Date:    23  September 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20090923
Tag Testing: ccsm4_0_beta27 post-tag testing
Tag Summary:
 
  This is a bugfix tag which adds gx3v7 support to the input_templates/pop2_in_build.csh
  script.
M           18448   input_templates/pop2_in_build.csh
  
===============================================================================
Tag Creator: njn01
Tag Date:    22  September 2009
Tag Name:    pop2/trunk_tags/ccsm_pop_2_1_20090922
Tag Testing: ccsm4_0_beta27 post-tag testing
Tag Summary:
 
  This is a bugfix tag which adds gx3v7 support to the bld/pop_decomp.xml script and
  fixes a tx0.1/tx1 definition omission in tavg_nml input in the pop2_in_build.csh script.
  
M           18411   bld/pop_decomp.xml
M           18411   input_templates/pop2_in_build.csh

===============================================================================
Originator: njn01
Date:  11  September 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090911
Summary of Changes:   
 
   *This is a significant revision to improve the support of multiple tavg output "streams".
    Extensive testing at the gx3v5 resolution was conducted (see test log) . This version 
    now contains support for writing time-invariant fields, such as background diffusivities,
    the the new frequency option, "once."

   * Correction of the (re-introduced) overflows.F90 threading bug
  
   * Addition of gx3v7 support
                      
M           17956   source/overflows.F90
M           17957   source/initial.F90
M           17956   source/surface_hgt.F90
M           17956   source/time_management.F90
M           17956   source/diags_on_lat_aux_grid.F90
M           17956   source/diagnostics.F90
M           17956   source/forcing.F90
M           17956   source/vmix_kpp.F90
M           17957   source/budget_diagnostics.F90
M           17957   source/advection.F90
M           17956   source/vertical_mix.F90
M           17957   source/tavg.F90
M           17957   source/baroclinic.F90
M           17957   input_templates/gx3v5_tavg_contents
A               0   input_templates/gx3v7_POP_DomainSizeMod.F90
A               0   input_templates/gx3v7_tavg_contents
A               0   input_templates/gx3v7_history_contents
A               0   input_templates/gx3v7_region_ids
A               0   input_templates/gx3v7_vert_grid
A               0   input_templates/gx3v7_inputdata
A               0   input_templates/gx3v7_domain_size.F90
A               0   input_templates/gx3v7_transport_contents
M           17957   input_templates/gx1v6_tavg_contents
A               0   input_templates/gx3v7_movie_contents
A               0   input_templates/gx3v7_depth_accel
M           17957   input_templates/pop2_in_build.csh
M           17956   bld/pop2.cpl7.template
M           17957   ChangeLog

===============================================================================
Originator: njn01
Date:  24  August 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090824
Summary of Changes:   This is a *preliminary* tag which contains a *MAJOR* 
                      revision to support multiple tavg output "streams".
                      Extensive testing and substantial modifications will
                      continue over the next several weeks; users should
                      consider this an "alpha" version of the tavg streams code.

svn status -u
M           17758   source/initial.F90
M           17758   source/step_mod.F90
M           17758   source/budget_diagnostics.F90
M           17758   source/advection.F90
M           17758   source/mix_submeso.F90
M           17758   source/passive_tracers.F90
M           17759   source/forcing_coupled.F90
M           17758   source/hmix_gm.F90
M           17759   source/tavg.F90
M           17758   source/baroclinic.F90
M           17758   input_templates/ocn.iage.setup.csh
M           17758   input_templates/tx0.1v2_tavg_contents
M           17758   input_templates/ocn.ecosys.setup.csh
M           17758   input_templates/pop2_in_build.csh
M           17758   input_templates/gx1v6_tavg_contents
M           17758   input_templates/gx1v5b_tavg_contents
M           17758   input_templates/gx3v6_tavg_contents
M           17758   input_templates/tx1v1_tavg_contents
M           17758   input_templates/ocn.cfc.setup.csh
M           17758   input_templates/gx1v5_tavg_contents
M           17758   input_templates/gx3v5_tavg_contents
M           17758   input_templates/test_sample_tavg_contents
M           17758   drivers/cpl_mct/POP_InitMod.F90


===============================================================================
Originator: njn01
Date:  12  August 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090812
Summary of Changes:  
     * Major time-flag revision:
          Create the routine "access_time_flag" to allow
            other routines to access a time_flag defined in another module.
          Refactor routines to create smaller, single-purpose subroutines
            that can be combined in various ways to support robust time_flag
            creation and use.
          Allow only one module to initialize a time flag. 
          Add error checking to prevent using a noninitialized time_flag. 
     * add definition of undefined_nf_r8 to constants.F90
     * add optional output unit specifier to exit_POP
     * add support for overriding cpl_ts%old_value based upon restart information
     * remove code for overriding cpl_ts%old_value from read_restart 
         (now, override cpl_ts%old_value after it has been initialized)
     * change get_time_flag_id to access_time_flag in ice.F90, restart.F90,
     * remove shr_sys_flush references; use POP_IOUnitsFlush instead
     * replace missing_value with missing_value_d (double-precision value) in
         tavg attributes, for double-precision attributes.

svn status -u
M           17758   source/time_management.F90
M           17758   source/ice.F90
M           17758   source/forcing_coupled.F90
M           17758   source/exit_mod.F90
M           17758   source/restart.F90
M           17758   source/tavg.F90
M           17758   source/constants.F90

Summary of Testing:  (in ccsm4_0_beta21 context)
  PASS  ERS.T62_g16.C.bluefire 
  PASS  ERS.f19_g16.BTR1.bluefire 
  PASS  ERH.f19_g16.BTR1.bluefire 
  PASS  ERB.f19_g16.BTR1.bluefire
===============================================================================
Originator: njn01
Date:  28  July 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090728
Summary of Changes:  
     * Corrections:
         o pop2.cpl7.template -- changes for jaguar branch and hybrid cases
M           17322   bld/pop2.cpl7.template
M           17322   ChangeLog

===============================================================================
Originator: njn01
Date:  27  July 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090727
Summary of Changes:  
     * Corrections:
         o pop2.cpl7.template -- changes for jaguar    

M           17212   bld/pop2.cpl7.template
M           17212   ChangeLog
===============================================================================
Originator: njn01
Date:  20  July 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090720
Summary of Changes:  
     * Corrections:
         o update the tx1v1 chlorophyll dataset; the old one was mistakenly written 
            in little-endian format
         o add tripole-grid correction to DYU in grid.F90 (Gokhan/Keith)
         o interchange the order of allocate and INQUIRE statements in read_bottom_cell, 
             so that the record length for the partial bottom cell file is correctly determined
             (affected tx0.1v2 oob only)
         o modify pop2_in_build.csh to support restarts from netCDF restart files
     * Minor corrections (b4b solutions):
         o correct a minor bug in tavg.F90 module: write out ULON_DEG, TLON_DEG, ULAT_DEG,
            and TLAT_DEG in double precision
         o correct a minor bug in restart.F90 module: always set the variable "restart_type",
            every call, because tavg.F90 code depends on the value of restart_type.
     * Misc changes:
         o rename pop2/drivers/nocouple  pop2/drivers/cpl_none for improved name parallelism
            and modify build/* nocouple references to point to cpl_none
         o add "call POP_IOUnitsFlush(stdout) " to locations where POP_IOUnitsFlush(POP_stdout) 
            calls exist; this restores the flushes in ccsm coupled context during the
            transition from old to new pop2 infrastructure
         o eliminate some "call shr_sys_flush (stdout)" references and replace with
               call POP_IOUnitsFlush(POP_stdout) ; call POP_IOUnitsFlush(stdout)
            This touches a lot of files.

M           16648   build/preprocess.mk
M           16648   source/io_tools.F90
M           16648   source/sw_absorption.F90
M           16648   source/initial.F90
M           16648   source/time_management.F90
M           16648   source/ice.F90
M           16648   source/diags_on_lat_aux_grid.F90
M           16648   source/diagnostics.F90
M           16648   source/grid.F90
M           16648   source/budget_diagnostics.F90
M           16648   source/iage_mod.F90
M           16648   source/io_netcdf.F90
M           16648   source/mix_submeso.F90
M           16648   source/cfc11_mod.F90
M           16648   source/diag_bsf.F90
M           16648   source/forcing_coupled.F90
M           16648   source/ms_balance.F90
M           16648   source/restart.F90
M           16648   source/tavg.F90
M           16648   bld/pop2.cpl7.template
M           16648   ChangeLog
M           16648   input_templates/pop2_in_build.csh
M           16648   input_templates/tx1v1_inputdata
M           16648   drivers/cpl_mct/ocn_comp_mct.F90
D           16648   drivers/nocoupler
D           16648   drivers/nocoupler/POP_FinalMod.F90
D           16648   drivers/nocoupler/POP.F90
D           16648   drivers/nocoupler/POP_CouplingMod.F90
D           16648   drivers/nocoupler/POP_InitMod.F90
A  +            -   drivers/cpl_none

===============================================================================
Originator: njn01
Date:  12 June 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090612
Summary of Changes:  time-flag changes; add time_management unit tester
     * time-flag changes:
         o add support for an offset/reference date in time_to_do
         o reorganize/rename/restructure time-flag definitions, routines, and interfaces
         o add documentation
         o modify time-flag interfaces in modules using time flags (including stand-alone
            version, but no testing of these changes)
         o add offset-date support to tavg_nml in pop2_in_build.csh
     * add new time_management.F90 unit tester
     * define record length in read_bottom_cell via an INQUIRE statement (bug #968)
     * remove ^M characters from serial/communicate.F90
     * restore printed completion messages to ocn.log.* output (use stdout, not POP_stdout)
        and print only from master-task (eliminates messages from each task in ccsm.log.*)
     * modify pop2.cpl7.template so that $INPUT is not resolved in the pop2.build* scripts 
        that the template script creates
      
Testing:   See test log linked to ocn doc page
Reviewers: klindsay, gokhan, yeager
A               0   build/ibm.gnu
M           16539   serial/communicate.F90
A               0   test/unit/time_management
A               0   test/unit/time_management/pop2_in
A               0   test/unit/time_management/POP.F90
A               0   test/unit/time_management/POP_DomainSizeMod.F90
A               0   test/unit/time_management/timeTest
A               0   test/unit/time_management/domain_size.F90
M           16539   source/io_tools.F90
M           16539   source/initial.F90
M           16539   source/time_management.F90
M           16539   source/ice.F90
M           16539   source/diagnostics.F90
M           16539   source/step_mod.F90
M           16539   source/movie.F90
M           16539   source/grid.F90
M           16539   source/budget_diagnostics.F90
M           16539   source/forcing_coupled.F90
M           16539   source/ecosys_mod.F90
M           16539   source/restart.F90
M           16539   source/history.F90
M           16539   source/tavg.F90
M           16539   source/POP_ErrorMod.F90
M           16539   source/state_mod.F90
M           16539   bld/pop2.cpl7.template
M           16539   ChangeLog
M           16539   input_templates/pop2_in_build.csh
M           16539   drivers/nocoupler/POP.F90
M           16539   drivers/nocoupler/POP_CouplingMod.F90
M           16539   drivers/nocoupler/POP_InitMod.F90
M           16539   drivers/ccsm_cpl7/POP_FinalMod.F90
M           16539   drivers/ccsm_cpl7/ocn_comp_mct.F90
M           16539   drivers/ccsm_cpl7/POP_InitMod.F90
Status against revision:  16638

===============================================================================
Originator: njn01 (new ccsm4 requirement)
Date:  9 June 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090609
Summary of Changes:  
     * Remove all references to SEQ_MCT
      
Testing:  C compset smoke test in ccsm4_0_beta17 context
Reviewer: none
M           16535   source/io_types.F90
M           16535   mpi/POP_CommMod.F90
M           16535   ChangeLog

===============================================================================
Originator: njn01
Date:  22 May 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090522
Summary of Changes:  
     * Change pop2_in_build.csh settings, according to directions from
       Gokhan (see ocean doc pages)
     * Add useful write statement to io_netCDF.F90, to help in debugging
      
Testing:  none
Reviewer: none
M           16215   source/io_netcdf.F90
M           16215   ChangeLog
M           16215   input_templates/pop2_in_build.csh
Status against revision:  16215

===============================================================================
Originator: njn0
Date:  13 May 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090513
Summary of Changes:  
     * Modify ocn.*.setup.csh scripts so that they only echo *default*
       input files into pop2.input_data_list file. This will allow users
       to select nonstandard files from their $case directory without
       causing the check_input_data script to stop with an error message.
      
Testing:  See test log
Reviewer: klindsay (walkthrough)
M           15792   input_templates/ocn.cfc.setup.csh
M           15792   input_templates/ocn.ecosys.setup.csh
M           15792   input_templates/ocn.cfc11.setup.csh
M           15952   ChangeLog
Status against revision:  16008

===============================================================================
Originator: njn01
Date:  11 May 2009
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090511
Summary of Changes:  
     * bugfix: tavg.F90 cell_methods correction (correctly identify minimum and maximum quantities
        in netCDF tavg history output files)
     * bugfix: correct gx3v5 pop2_in_build.csh so that this case runs without error-detection shutdown
     * add  ltidal_mixing/lhoriz_varying_bckgrnd dependencies to pop2_in_build.csh (to catch problems
        at buildnml time, rather than at execution time)
     * add iter-option consistency checking to pop2_in_build.csh  
        (to protect users from selecting internally inconsistent options)
      
Testing:  See test logs
Reviewer: Gokhan (pop2_in_build.csh), klindsay (tavg/cell methods)
M           15792   source/tavg.F90
M           15793   input_templates/pop2_in_build.csh
M           15915   ChangeLog
Status against revision:  15951

===============================================================================
Originator: klindsay
Date: 1 May 2009  (testing completed, and tag created, on 20090506)
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090506
Summary of Changes:  
     * Initialize arrays in cfc_mod.F90, which allows the ocean model compiled
       in DEBUG mode (NaN initialization and signal trapping) to properly execute.
      
Testing: preliminary testing: klindsay, mai Further testing: njn01
         All of the following tests pass.  In addition, the binary ocean restart files
         from ERT1850.f19_g16.B20TRTR1.bluefire and ERT1850.f19_g16.B20TRTR1.bluefire.with_cfc
         at the end of two months are identical

         DEBUG tests:
          * SMS_D.f19_g16.B20TRTR1.bluefire with Keith's cfc_mod.F90 in SourceMods/src.pop2
          * SMS_D.T62_g35.C.bluefire with Keith's cfc_mod.F90 *and* ltidal_mixing = .false.
            (so that the case will run)

         Exact-restart tests:
          * ERT1850.f19_g16.B20TRTR1.bluefire out-of-box (2-month exact restart test)
          * ERT1850.f19_g16.B20TRTR1.bluefire with Keith's cfc_mod.F90 in SourceMods/src.pop2
Reviewer: none
M           15792   source/cfc_mod.F90
M           15793   ChangeLog
Status against revision:  15914
===============================================================================
Originator: gokhan
Date: 27 April 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090427
Summary of Changes:  
     * Change default setting for gx3*,tx* grids:
       for vmix_kpp (these changes should have been made in August 2008)
Testing: 
       ccsm4_0_beta14 tag. set up oob and new B gx1v6, C gx3v5, C tx1v1 cases:
     * new and old B gx1v6: pop2_in files are identical (except for filenames)
     * new and old C gx3v5: pop2_in files are identical (except for filenames)
     * new C gx3v5 with lhoriz_varying_bckgrnd = .true. (model stops building, with error msg)
     * new C tx1v1 with lhoriz_varying_bckgrnd = .true. (model stops building, with error msg)
Reviewer: none
M           15775   input_templates/pop2_in_build.csh
M           15775   ChangeLog
Status against revision:  15792
===============================================================================
Originator: yeager, gokhan
Date: 24 April 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090424
Summary of Changes:  
     * Change default setting for gx3v* grids:
         set sfwf_weak_restore = 0.0115 
Testing: none
Reviewer: yeager, gokhan
M           15492   input_templates/pop2_in_build.csh
M           15509   ChangeLog
===============================================================================
Originator: njn01
Date: 6 April 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090406
Summary of Changes:  
     * 1850-2000_control --> 1850-2000 in ocn.cfc.setup.csh
       (this is now consistent with the upcoming compset definition)
Testing: none
Reviewer: gokhan, mvertens
===============================================================================
Originator: njn01
Date: 3 April 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090403
Summary of Changes:  
     * Add tx1v1 support to pop_decomp.xml
     * Redefine tx1v1_tavg_contents so that it is identical to the tx0.1v2 version
     * Modify pop2_in_build.csh tx1v1 settings (more closely related to tx0.1v2 settings)
     * Rework ocn.cfc.setup.csh so that it correctly responds to new CCSM env variable and
       time (CCSM_IPCC --> OCN_TRANSIENT and 1870-->1850)
     * Correct typo in tx0.1v2_inputdata topography_data dataset name
Testing: 5-day tx1v1 smoke test on bluefire, using tcraig's "sandbox"
Reviewer: none
M      bld/pop_decomp.xml
M      input_templates/pop2_in_build.csh
M      input_templates/tx1v1_tavg_contents
M      input_templates/tx0.1v2_inputdata
M      input_templates/ocn.cfc.setup.csh


===============================================================================
Originator: njn01
Date: 27 March 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090327
Summary of Changes:  
     * Change default tavg frequency back to nmonth
Testing: none
Reviewer: none

===============================================================================
Originator: njn01
Date: 24 March 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090324
Summary of Changes:  
     * Default hmix_gm kappa_isop_choice,kappa_thic_choice = 'bfre'
       (Gokhan 23 March 2009 email)
     * Correction of overflows logic bug
       (Bruce 24 March 2009: /home/bruceb/ccsm/ocn/overflow/pop2_conversion/info_nancy/24mar09)
Testing: 
     Gokhan, Bruce
     http://www.cgd.ucar.edu/~njn01/ccsm_pop/log_by_date_2.1.html

Reviewer: none


===============================================================================
Originator: njn01
Date: 13 March 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090313b
Summary of Changes:  
     * Allow all processors to print error message from exit_mod.F90
     * Add error-detection logic to pop2_in_build.csh to prevent
       setting ltavg_nino_diags when tavg averages are not created 
       frequently enough
Testing: 
     * Confirmed that all tasks write exit_POP error message when
       "if (my_task == master_task)" test is if-def'd out
     * Set up case with annual tavg and ltavg_nino_diags .true. and confirmed
       pop2_in_build.csh traps the error. 

Reviewer: njn01

M           14951   source/exit_mod.F90
M           14951   input_templates/pop2_in_build.csh
M           14952   ChangeLog


===============================================================================
Originator: njn01
Date: 13 March 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090313
Summary of Changes:  
     * overflows: generalize restart procedure to support ocean tracers
     * ocn_comp_mct: change the two instances of "rattr" to "rAttr" to 
        match all other instances of rAttr

Testing: 
         See walkthrough summary/test log for details and testing
         http://www.cgd.ucar.edu/~njn01/ccsm_pop/log_by_date_2.1.html
Reviewer: njn01, gokhan, bruceb

M           14951   source/overflows.F90
M           14951   source/initial.F90
M           14951   source/restart.F90
M           14951   ChangeLog
M           14951   input_templates/gx1v5b_overflow
M           14951   input_templates/gx1v6_overflow
M           14951   drivers/ccsm_cpl7/ocn_comp_mct.F90


===============================================================================

Originator: njn01
Date: 4 March 2009 
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090304
Summary of Changes:  
     * Import Jon Wolfe's OpenMP corrections
     * correct overflows.F90 (eliminate "block" dimension in WORK3,WORK4)
       Note: did not import hmix_aniso.F90 code changes
Testing: ccsm4_0_beta10, oob vs oob + new code, 2-month exact restart 
         See walkthrough summary/test log for details and testing
Reviewer: njn01

M           14585   source/overflows.F90
M           14585   source/hmix_aniso.F90
M           14585   source/diagnostics.F90
M           14585   source/step_mod.F90
M           14585   source/POP_SolversMod.F90
M           14585   source/grid.F90
M           14585   source/forcing_shf.F90
M           14585   source/cfc11_mod.F90
M           14585   source/diag_bsf.F90
M           14585   source/ecosys_mod.F90
M           14585   source/ms_balance.F90
M           14585   source/tavg.F90
M           14585   source/barotropic.F90
M           14585   source/baroclinic.F90
M           14587   ChangeLog
M           14585   drivers/ccsm_cpl7/ocn_comp_mct.F90

===============================================================================

Originator: njn01
Date:  27 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090227
Summary of Changes:  
     * Update pop2_in_build.csh to reflect most recent hmix_gm eg namelist parameters
Testing:  Gokhan, Markus
Reviewer: None

From Markus:
Hi Nancy,

here is our best estimate for the constants:

   const_eg               = 0.8
   gamma_eg               = 300.0
   kappa_min_eg           = 0.35e7
   kappa_max_eg           = 2.5e7

                      Cheers,
                       Markus

M           14585   ChangeLog
M           14585   input_templates/pop2_in_build.csh

===============================================================================
Originator: njn01
Date:  26 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090226
Summary of Changes:  
     * Update movie.F90 to support high-resolution work
Testing:  See walkthrough summary/test log for details and testing
Reviewer: Gokhan

M           14563   source/surface_hgt.F90
M           14563   source/diagnostics.F90
M           14563   source/step_mod.F90
M           14563   source/movie.F90
M           14563   source/forcing.F90
M           14563   source/baroclinic.F90
M           14563   ChangeLog
M           14563   input_templates/gx1v6_movie_contents
M           14563   input_templates/tx1v1_movie_contents
M           14563   input_templates/gx1v5_movie_contents
M           14563   input_templates/gx1v5b_movie_contents
M           14563   input_templates/gx3v6_movie_contents
M           14563   input_templates/tx0.1v2_movie_contents
M           14563   input_templates/gx3v5_movie_contents
Status against revision:  14563

===============================================================================
Originator: njn01
Date:  24 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090224
Summary of Changes:  
     * Change const_eg = 1.0 ---> const_eg  = 0.8
Testing:  Markus C compset control run
Reviewer: Gokhan

be1105en/fis/cgd/cseg/people/njn01/tags/pop2% svn status -u
M           14542   ChangeLog
M           14542   input_templates/pop2_in_build.csh

===============================================================================
Originator: njn01
Date:  23 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090223b
Summary of Changes:  
     * Change path for output files from full pathname to relative filename
     * Fix timer_total
     * Eliminate references to ccsm3 timers (SEND,RECV,RECV to SEND, and SEND to RECV)
Testing:
     * /fis01/cgd/cseg/people/njn01/test/rpointer 
          gx1v5 C two-month restart
          gx1v5 C 8-day restart
     * /fis01/cgd/cseg/people/njn01/test/timers
          gx1v5 C one-month runs with and without timers changes

M           14535   source/forcing_coupled.F90
M           14536   input_templates/pop2_in_build.csh
M           14535   ChangeLog
M           14535   drivers/ccsm_cpl7/ocn_comp_mct.F90
Status against revision:  14537


===============================================================================
Originator: njn01
Date:  23 February 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090223
Summary of Changes:  
     * new hmix_gm.F90 option: Eden and Greatbatch
     * small correction to hmix_gm.F90 (TAPER2; Gokhan; identified several years ago)
     * pop2_in_build.csh modified to support Eden and Greatbatch option (on by default)
Testing:
   (1) out-of-box, 1-month, gx1v5 C
   (2) same as (1), except use new hmix_gm.F90 and pop2_in_build.csh with eg option
       off ***and*** TAPER2 correction turned off.  Should be b4b with (1)
   (3) same as (2), except TAPER2 correction turned on and new hmix_gm_eg test.
       This will NOT be b4b. Compare timing only.
   (4) same as (3), except enable edgr option
   (5) same as (4), except *disable* edgr option  (should be b4b with (3), but
       this test uses the new pop2_in_build.csh and hmix_gm.F90 code that will be
       checked in)


===============================================================================
Originator: njn01
Date:  
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090218
Summary of Changes:  
     * Add gx1v6 support
     * Add support for startup/spunup *.hdr file
     * Write tavg error message on all procs
     * Add extra info to io_netcdf.F90 error message
           ("string too short") to help eliminate confusion
     * Modify tx0.1v2_inputdata to reflect approved inputdata dataset names

Process:
    Get gx1v6 datasets from Steve Yeager. Modify pop2_in_build.csh
    to recognize gx1v6. Check gx1v6 datasets into inputdata and $SVN data
    repo.  Create gx1v6_input_data, pointing to new gx1v6 datasets.
    Modify pop_decomp.xml to recognize gx1v6. 

Testing (njn01):
     Modify ccsm4_0_beta09 (cice, clm, dice, dlnd, datm, scripts, pop2).
     Set up B compset. Compare $comp_in for comp = (drv,ice,lnd,atm,pop)
     with Steve Yeager's b40.008o case. Diff'd ocean and ice datasets
     with Steve Yeager's b40.008o case.
 
     Set up C compset. Will need new gx1v6 datasets before testing
     can be completed.  

     This tag will be updated, if necessary, after full gx1v6 test suite
     is completed.

M           12820   source/io_netcdf.F90
M           13884   source/hmix_gm.F90
M           12674   source/tavg.F90
M           14024   bld/pop2.cpl7.template
M           13884   bld/pop_decomp.xml
M           12674   bld/generate_pop_decomp.pl
A               0   input_templates/gx1v6_region_ids
M           12674   input_templates/tx0.1v2_inputdata
A               0   input_templates/gx1v6_transport_contents
A               0   input_templates/gx1v6_movie_contents
A               0   input_templates/gx1v6_domain_size.F90
A               0   input_templates/gx1v6_POP_DomainSizeMod.F90
A               0   input_templates/gx1v6_history_contents
A               0   input_templates/gx1v6_tavg_contents
A               0   input_templates/gx1v6_overflow
A               0   input_templates/gx1v6_vert_grid
A               0   input_templates/gx1v6_inputdata
A               0   input_templates/gx1v6_depth_accel
M           13884   input_templates/pop2_in_build.csh
M           14024   ChangeLog
Status against revision:  14443

===============================================================================
Originator: njn01
Date:  Wed Jan 21 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090121
Summary of Changes:  Correct bug #890 (branch start bug)

Testing:  
     njn01: Set up control run and branch case using ccsm4_0_beta08 tag.
            Modify $case/Tools/Template/pop2.cpl7.template to correct the bug.
            Build branch case (using new pop2.cpl7.template) and run. Confirm
            that rpointer files are generated correctly and that the branch
            case runs for five days.

M           13801   bld/pop2.cpl7.template
M           13884   ChangeLog
Status against revision:  14023


===============================================================================
Originator: njn01
Date:  Fri Jan 9 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090109
Summary of Changes:  
   1) New overflows.F90 module and gx1v5b_overflow input file from
      Bruce B and Gokhan. The overflows.F90 module has been used
      extensively in recent runs; njn01 modified it to be consistent
      with the changes made in ccsm_pop_2_1_20090107a
   2) tx0.1v2_tavg_contents file from a38hr02_hrpop43 (JD mods)
   3) pop2_in_build.csh vmix_kpp_nml tx0.1v2 update
   4) Comment out call MPI_BARRIER in POP_CommMod.F90 (JD mod)
   5) Only check COMPUTE_TLT in hmix_gm.F90 if not _HIRES
   6) Add new tx0.1v2 blocks to pop_decomp.xml file (from a38hr02_hrpop43 tag)

Testing:  
   1) Bruce B confirmed on 9 Jan 2009 that the resulting overflows *.do* files are ok
   2) Compile and run a one-month gx1v5 C case.
   3) No testing of tx0.1v2 mods, beyond inspection

M           13817   source/overflows.F90
M           13010   source/hmix_gm.F90
M           12820   bld/pop_decomp.xml
M           12674   mpi/POP_CommMod.F90
M           13010   input_templates/gx1v5b_overflow
M           12674   input_templates/tx0.1v2_tavg_contents
M           13817   input_templates/pop2_in_build.csh
M           13819   ChangeLog

===============================================================================
Originator: klindsay
Date:  Wed Jan 7 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090107b
Summary of Changes:  
Add time-filtering of surface Chl to initialization so that it is
consistent with the time-filtering in the main time loop. Move set_chl
call in subroutine set_surface_forcing of forcing.F90 to eliminate
time-lag in prognostic Chl.

Testing:  
The mods ensure exact restart for compset CECO at resolutions T62_g35 &
T62_g15. They do not change results (bit-for-bit) for compset B at
resolution f19_g15 or for compset C at resolutions T62_g35 & T62_g15.
The bit-for-bit verification is for a 5 day startup run with
CONTINUE_RUN==FALSE as well as a 5 day continuation.

M           12674   source/sw_absorption.F90
M           12674   source/forcing.F90
M           12674   source/passive_tracers.F90
M           12892   source/ecosys_mod.F90
M           13817   ChangeLog

===============================================================================
Originator: njn01
Date:  Wed Jan 7 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090107a
Summary of Changes:  Remove system calls from diagnostics.F90 and overflows.F90
Testing:  C compset, gx1v5 and gx3v5. Confirm output diagnostics
   files are named with beginning model date, by inspection
   Gokhan and Bruce confirmed diagnostics files are ok. 

M           13010   source/overflows.F90
M           12674   source/initial.F90
M           12674   source/diagnostics.F90
M           13010   input_templates/pop2_in_build.csh
M           13801   ChangeLog

===============================================================================
Originator: njn01
Date:  Wed Jan 7 2009
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20090107
Summary of Changes:  new pop2.cpl7.template file that is consistent
 with ccsm script changes in the ccsm4_0_beta07 tag. Provided by tcraig.
Testing:  Testing by tcraig.

M           13010   bld/pop2.cpl7.template
M           13010   ChangeLog

===============================================================================
Originator: njn01
Date:  Fri Nov 21 2008
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20081121
Testing:  2-month gx1v5b exact restart tests, C and B compsets
----------------------------------------------------------------
Summary of Changes:  
   * Correct bugs in overflows product water code
   * Add support for gx1v5b resolution
   * Delete support for gx1v5a resolution
   * Correct bug in hmix_gm.F90 consistency checks
   * Widen support for external environments in pop2.cpl7.template (TC mod)
----------------------------------------------------------------
M           12674   source/overflows.F90
M           12674   source/hmix_gm.F90
M           12674   source/barotropic.F90
M           12674   bld/pop2.cpl7.template
D           12674   input_templates/gx1v5a_transport_contents
A               0   input_templates/gx1v5b_vert_grid
A               0   input_templates/gx1v5b_inputdata
D           12674   input_templates/gx1v5a_movie_contents
D           12674   input_templates/gx1v5a_domain_size.F90
A               0   input_templates/gx1v5b_domain_size.F90
D           12674   input_templates/gx1v5a_POP_DomainSizeMod.F90
D           12674   input_templates/gx1v5a_history_contents
D           12674   input_templates/gx1v5a_tavg_contents
D           12674   input_templates/gx1v5a_overflow
A               0   input_templates/gx1v5b_history_contents
A               0   input_templates/gx1v5b_region_ids
D           12674   input_templates/gx1v5a_vert_grid
D           12674   input_templates/gx1v5a_inputdata
D           12674   input_templates/gx1v5a_depth_accel
A               0   input_templates/gx1v5b_depth_accel
A               0   input_templates/gx1v5b_overflow
A               0   input_templates/gx1v5b_transport_contents
A               0   input_templates/gx1v5b_POP_DomainSizeMod.F90
A               0   input_templates/gx1v5b_tavg_contents
D           12674   input_templates/gx1v5a_region_ids
A               0   input_templates/gx1v5b_movie_contents
M           12820   input_templates/pop2_in_build.csh
M           12892   ChangeLog

===============================================================================
Originator: njn01
Date: 
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20081117
Testing:  see testing log on web page
Summary of Changes:  OpenMP corrections; fixes bug 852
M           12674   source/diags_on_lat_aux_grid.F90  (OMP corrections)
M           12674   source/POP_SolversMod.F90         (OMP corrections)
M           12674   source/budget_diagnostics.F90     (OMP corrections)
M           12674   source/cfc11_mod.F90              (OMP corrections)
M           12674   source/ecosys_mod.F90             (OMP corrections)
M           12820   ChangeLog


===============================================================================
Originator: njn01
Date: Mon Nov 10 12::10 MST 2008
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20081110
Testing:  
History: 
Summary of Changes: 
    * bugfix for TAVG_R8 3D tavg netCDF output
    * bugfix for history.F90: add target attribute
    * add support for gx3v6 to pop_decomp.xml
    * added executable property to pop2_in_build.csh
      using the command "svn propset svn:executable ON pop2_in_build.csh"
      in in the pop2/input_templates directory:
            Property changes on: input_templates/pop2_in_build.csh
            ___________________________________________________________________
            Added: svn:executable
               + *

===============================================================================
Originator: njn01
Date: Fri 31 Oct 2008
Model: pop2
Tag: pop2/trunk_tags/ccsm_pop_2_1_20081031
Testing:  
History: 
Summary of Changes: This tag is based upon /pop2/branch_tags/hrpop_tags/hrpop61_ccsm_pop_2_1_20080125
  Differences from hrpop61 include:
       * removal of cpl6 support.
       * the use of shr_sys_abort where needed (as a CCSMCOUPLED option that will remain in place 
         until Phil's new error trapping is fully functional)
       * error-trapping for SHF_QSW < epsilon in the high-res version
       * corrections to high-res settings in pop2_in_build.csh
       * parallel i/o development routines have not yet been ported to the pop2 trunk



===============================================================================

