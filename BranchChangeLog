===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    7 March 2019
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n103_cesm_pop_2_1_20190306
Tag Summary: Merge latest pop trunk

Testing:     none (branch is identical to pop trunk, except for existence of
                   this file and some svn:mergeinfo properties)

Files Modified:
M       ChangeLog
M       bld/build-namelist
M       bld/generate_pop_decomp.xml
M       bld/namelist_files/namelist_defaults_pop.xml
M       cime_config/buildlib
M       cime_config/buildnml
M       cime_config/config_component.xml
M       source/step_mod.F90
M       source/tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    23 October 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n102_cesm_pop_2_1_20181022
Tag Summary: Zig-zag merge of pop trunk (starting a "new" branch)

Testing:     none (lots of testing of trunk tag via marbl_dev_n101)

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    22 October 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n101_cesm_pop_2_1_20181019
Tag Summary: Update to latest version of MARBL
             -- change in marbl settings varnames required a python change in
                MARBL_scripts/MARBL_wrappers/MARBL_settings.py

Testing:     aux_pop_MARBL (cheyenne_intel, cheyenne_gnu, hobart_nag, and
             hobart_pgi) were done on marbl_dev_levy -- all NLCOMP tests fail
             due to new variable names in marbl_in, all other tests pass.
             [Compared to marbl_dev_n100]
             aux_pop (cheyenne_intel): NLCOMP failures for all compsets with
             ecosystem enabled (due to changes in marbl_in). All other tests,
             including all BASELINE and non-ecosystem NLCOMP, pass.

Files Modified:
M       Externals_POP.cfg
M       MARBL_scripts/MARBL_wrappers/MARBL_settings.py
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    22 October 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n100_cesm_pop_2_1_20181019
Tag Summary: Merge latest pop trunk onto marbl_dev
             -- add support for abio tracers in CMIP6 historical runs
             -- add coordinates to tavg_TEMP2
             -- update NDEP forcing for OCN_TRANSIENT=1850-2000
             -- update CVMix (bfb, but better performance)
             -- update MOC computation to support land-block elimination

Testing:     aux_pop_MARBL (cheyenne_intel, cheyenne_gnu, hobart_nag, and
             hobart_pgi) and aux_pop (cheyenne_intel); all tests pass except:
             1. New tests introduced
                ecosys_ocn_transient_1850_2000 only one in aux_pop_MARBL
             2. abio tests fail NLCOMP due to addition of variable:
                abio_dic_dic14_restfile_fallback
                (tests are still bfb)

Files Modified:
M       ChangeLog
M       Externals_POP.cfg
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/buildcpp
M       cime_config/buildlib
M       cime_config/buildnml
M       cime_config/config_component.xml
M       cime_config/config_compsets.xml
M       cime_config/testdefs/testlist_pop.xml
D       cime_config/testdefs/testmods_dirs/pop/cvmix
D       cime_config/testdefs/testmods_dirs/pop/cvmix/include_user_mods
D       cime_config/testdefs/testmods_dirs/pop/cvmix/user_nl_pop
A  +    cime_config/testdefs/testmods_dirs/pop/default_spacecurve
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_ocn_transient_1850_2000
A  +    cime_config/testdefs/testmods_dirs/pop/no_cvmix
M       input_templates/ocn.abio_dic_dic14.tavg.csh
M       mpi/gather_scatter.F90
M       source/abio_dic_dic14_mod.F90
M       source/baroclinic.F90
M       source/diags_on_lat_aux_grid.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    30 August 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n99_cesm_pop_2_1_20180830
Tag Summary: Zig-zag merge of pop trunk (starting a "new" branch)

Testing:     none (lots of testing of trunk tag via marbl_dev_n98)

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    30 August 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n98_cesm_pop_2_1_20180829
Tag Summary: Merge latest pop trunk onto marbl_dev
             -- latest changes from final_CMIP6_BGC branch (tag n13)
             -- latest version of manage_externals (v1.1.5)

Testing:     aux_pop_MARBL (cheyenne_intel, cheyenne_gnu, hobart_nag, and
             hobart_pgi) and aux_pop (cheyenne_intel); all tests pass
             (including NLCOMP and BASELINE) compared to 20180804 trunk.

Files Modified:
M       ChangeLog
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
A  +    externals/manage_externals/.git/FETCH_HEAD
M       externals/manage_externals/.git/HEAD
M       externals/manage_externals/.git/config
M       externals/manage_externals/.git/index
M       externals/manage_externals/.git/logs/HEAD
D       externals/manage_externals/.git/logs/refs/remotes/origin/HEAD
A  +    externals/manage_externals/.git/logs/refs/remotes/origin/master
A  +    externals/manage_externals/.git/logs/refs/remotes/origin/release-v1.0
A  +    externals/manage_externals/.git/logs/refs/remotes/origin/release-v1.1
A  +    externals/manage_externals/.git/objects/pack/pack-0e74279ae92a00678add3c01036be38825487d41.idx
A  +    externals/manage_externals/.git/objects/pack/pack-0e74279ae92a00678add3c01036be38825487d41.pack
M       externals/manage_externals/.git/packed-refs
D       externals/manage_externals/.git/refs/remotes/origin/HEAD
A  +    externals/manage_externals/.git/refs/remotes/origin/master
A  +    externals/manage_externals/.git/refs/remotes/origin/release-v1.0
A  +    externals/manage_externals/.git/refs/remotes/origin/release-v1.1
A  +    externals/manage_externals/.git/refs/tags/manic-v1.0.0
A  +    externals/manage_externals/.git/refs/tags/manic-v1.0.1
A  +    externals/manage_externals/.git/refs/tags/manic-v1.0.2
A  +    externals/manage_externals/.git/refs/tags/manic-v1.1.0
A  +    externals/manage_externals/.git/refs/tags/manic-v1.1.1
A  +    externals/manage_externals/.git/refs/tags/manic-v1.1.2
A  +    externals/manage_externals/.git/refs/tags/manic-v1.1.3
A  +    externals/manage_externals/.git/refs/tags/manic-v1.1.4
A  +    externals/manage_externals/.git/refs/tags/manic-v1.1.5
M       externals/manage_externals/.travis.yml
M       externals/manage_externals/README.md
M       externals/manage_externals/manic/__init__.py
M       externals/manage_externals/manic/checkout.py
M       externals/manage_externals/manic/externals_description.py
M       externals/manage_externals/manic/repository.py
M       externals/manage_externals/manic/repository_git.py
M       externals/manage_externals/manic/repository_svn.py
M       externals/manage_externals/manic/sourcetree.py
M       externals/manage_externals/manic/utils.py
M       externals/manage_externals/test/.pylint.rc
M       externals/manage_externals/test/Makefile
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/00
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/01
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/14
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/15
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/1f
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/38
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/6e
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/6f
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/93
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/95
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/a9
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/objects/e8
M       externals/manage_externals/test/repos/mixed-cont-ext.git/refs/heads/master
A  +    externals/manage_externals/test/repos/mixed-cont-ext.git/refs/heads/new-feature
A  +    externals/manage_externals/test/repos/simple-ext.git/objects/09
A  +    externals/manage_externals/test/repos/simple-ext.git/objects/31
A  +    externals/manage_externals/test/repos/simple-ext.git/objects/60
A  +    externals/manage_externals/test/repos/simple-ext.git/objects/63
A  +    externals/manage_externals/test/repos/simple-ext.git/objects/95
A  +    externals/manage_externals/test/repos/simple-ext.git/objects/df
A  +    externals/manage_externals/test/repos/simple-ext.git/refs/heads/feature3
M       externals/manage_externals/test/test_sys_checkout.py
A  +    externals/manage_externals/test/test_sys_repository_git.py
M       externals/manage_externals/test/test_unit_externals_description.py
M       externals/manage_externals/test/test_unit_repository.py
M       externals/manage_externals/test/test_unit_repository_git.py
M       externals/manage_externals/test/test_unit_repository_svn.py
A  +    input_templates/gm_bolus_terms_tavg_contents
A  +    input_templates/gm_bolus_terms_tavg_contents_high_freq
M       input_templates/gx1v6_tavg_contents
M       input_templates/gx1v6_tavg_contents_high_freq
M       input_templates/gx1v7_tavg_contents
M       input_templates/gx1v7_tavg_contents_high_freq
M       input_templates/gx3v5_tavg_contents
M       input_templates/gx3v7_tavg_contents
M       input_templates/ocn.cfc.tavg.csh
M       input_templates/ocn.iage.tavg.csh
M       input_templates/ocn.sf6.tavg.csh
A  +    input_templates/submeso_terms_tavg_contents
A  +    input_templates/submeso_terms_tavg_contents_high_freq
M       source/IRF_mod.F90
M       source/estuary_vsf_mod.F90
M       source/hmix_gm.F90
M       source/hmix_gm_aniso.F90
A  +    source/hmix_gm_share.F90
M       source/horizontal_mix.F90
M       source/mix_submeso.F90
M       source/passive_tracers.F90
M       source/step_mod.F90
M       source/tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    29 August 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n97_cesm_pop_2_1_20180720
Tag Summary: Merge latest marbl_dev_levy (n197) onto marbl_dev
             -- code clean-up and massive MARBL refactor
             -- change variable names in POP to reflect MARBL refactor

Testing:     aux_pop_MARBL (cheyenne_intel, cheyenne_gnu, hobart_nag, and
             hobart_pgi) done on marbl_dev_levy; single CISO test built / run
             to ensure MARBL tag was updated correctly. bit-for-bit with
             marbl_dev_n96.

Files Modified:
M       Externals_POP.cfg
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/ecosys_running_mean_saved_state_mod.F90
M       source/ecosys_tavg.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
M       source/passive_tracers.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    20 July 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n96_cesm_pop_2_1_20180720
Tag Summary: Zig-zag merge of pop trunk (starting a "new" branch)

Testing:     none (lots of testing of trunk tag)

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    20 July 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n95_cesm_pop_2_1_20180716
Tag Summary: Merge latest marbl_dev_levy (n193) onto marbl_dev to provide
             support for running with old tunings (e.g. the CESM 2.0 parameter
             settings)
             -- New OCN_BGC_CONFIG variable in env_run.xml determines which
                tunings to use
             -- Some namelist variables have different defaults depending on
                OCN_BGC_CONFIG
             -- New version of MARBL contains multiple default settings files
             -- New test run in aux_pop and aux_pop_MARBL ensures no
                unexpected changes to old tunings

Testing:     Verify single case builds (lots of testing on marbl_dev_levy)

Files Modified:
M       Externals_POP.cfg
M       MARBL_scripts/MARBL_wrappers/MARBL_diagnostics.py
M       MARBL_scripts/MARBL_wrappers/MARBL_settings.py
M       bld/namelist_files/namelist_defaults_pop.xml
M       cime_config/buildcpp
M       cime_config/buildnml
M       cime_config/config_component.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_cesm2_0_settings
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    19 July 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n94_cesm_pop_2_1_20180716
Tag Summary: Merge latest pop trunk onto marbl_dev

Testing:     none (lots of testing of trunk tag)

Files Modified:
M       ChangeLog
M       Externals_POP.cfg
M       MARBL_scripts/MARBL_wrappers/MARBL_settings.py
M       MARBL_scripts/MARBL_wrappers/POP_ecosys_diagnostics.py
M       MARBL_scripts/MARBL_wrappers/__init__.py
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/config_component.xml
M       cime_config/config_compsets.xml
M       input_templates/gx1v6_tavg_contents
M       input_templates/gx1v7_tavg_contents
M       input_templates/gx3v7_tavg_contents
M       input_templates/ocn.abio_dic_dic14.tavg.csh
M       input_templates/ocn.cfc.tavg.csh
M       input_templates/ocn.iage.tavg.csh
M       input_templates/ocn.sf6.tavg.csh
M       source/baroclinic.F90
M       source/diagnostics.F90
M       source/ecosys_forcing_mod.F90
M       source/passive_tracers.F90
M       source/step_mod.F90
M       source/tavg.F90
M       source/time_management.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    14 May 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n93_cesm_pop_2_1_20180514
Tag Summary: Zig-zag merge of pop trunk (starting a "new" branch)

Testing:     none (lots of testing of trunk tag)

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    14 May 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n92_cesm_pop_2_1_20180512
Tag Summary: Merge latest pop trunk onto marbl_dev

Testing:     aux_pop_MARBL on hobart and cheyenne
             - all BASELINE and NLCOMP tests pass

Files Modified:
M       ChangeLog
M       mpi/POP_HaloMod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    13 May 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n91_cesm_pop_2_1_20180501
Tag Summary: Update river nutrient input for gx3v7 and add a prealpha
             test to hobart_nag. Also removed a print statement from
             build-namelist

Testing:     aux_pop_MARBL on hobart and cheyenne
             - all gx3v7 tests fail BASELINE and NLCOMP

Files Modified:
M       bld/namelist_files/namelist_defaults_pop.xml
M       cime_config/testdefs/testlist_pop.xml
M       bld/build-namelist
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    10 May 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n90_cesm_pop_2_1_20180501
Tag Summary: clean up cime_config/
             1. remove yellowstone layouts from config_pes.xml
             2. better pe layouts for hobart
             3. add gx1v7 test to aux_pop_MARBL on hobart
             4. Fix performance_eval test (no longer triggers
                tracer_restore_var error in MARBL init)

Testing:     aux_pop_MARBL on hobart (cheyenne is unavailable)
             - all tests fail BASELINE and NLCOMP
               1. BASELINE failures due to new pe layouts
               2. pe layouts also generate failures in NLCOMP (ntasks in
               drv_in and nprocs in pop_in)
               3. new test fails due to lack of existing baseline
             - The SMS_Ld1.T62_g17 test does not complete on intel, but
               it does run successfully with nag and pgi

Files Modified:
M       cime_config/config_pes.xml
M       cime_config/testdefs/testlist_pop.xml
M       cime_config/testdefs/testmods_dirs/pop/performance_eval/user_nl_marbl
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    9 May 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n89_cesm_pop_2_1_20180501
Tag Summary: Merge POP trunk onto branch

Testing:     aux_pop_MARBL on hobart (cheyenne is unavailable)
             - NLCOMP and BASELINE failures due to changes in nox and nhy
               forcing fields (all tests fail compared to n88)

Files Modified:
M       ChangeLog
M       bld/build-namelist
M       bld/generate_pop_decomp.xml
M       bld/namelist_files/namelist_defaults_pop.xml
M       cime_config/buildcpp
M       cime_config/buildnml
M       cime_config/config_compsets.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/hires_core2_cheyenne
A  +    cime_config/testdefs/testmods_dirs/pop/hires_jra_cheyenne
M       drivers/cpl/ocn_comp_mct.F90
M       input_templates/ocn.vmix.tavg.csh
M       source/constants.F90
M       source/tavg.F90
M       source/tidal_mixing.F90
M       source/vmix_kpp.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy, klindsay
Tag Date:    8 May 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n88_cesm_pop_2_1_20180419
Tag Summary: Fix a couple of bugs in POP
             1. running mean saved state comes from ecosys_restart_file, not
                the CISO initialization file
             2. build-namelist checks value of CPL_I2O_PER_CAT and only runs
                xmlchange if variable needs to be changed (hoping this reduces
                the frequency in which ww3 tries to build while pop writes a
                new version of env_build.xml)
             Also, update to latest version of MARBL (add calcToFloor
             diagnostic)

Testing:     aux_pop_MARBL on cheyenne and hobart
             - All tests pass (note that there is a new diagnostic in all pop
               history files but this does not trigger a cprnc failure)

Files Modified:
M       Externals_POP.cfg
M       bld/build-namelist
M       source/ecosys_driver.F90
A  +    source/ecosys_running_mean_saved_state_mod.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    27 Apr 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n87_cesm_pop_2_1_20180419
Tag Summary: Update to latest version of MARBL
             -- introduce DOP_loss_P_bal to conserve P
             -- MARBL logging includes warnings now

Testing:     klindsay ran aux_pop_MARBL on cheyenne
             - ERI test that previously failed now runs successfully
             - Some BASELINE failures (all round-off level)

Files Modified:
M       Externals_POP.cfg
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    25 Apr 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n86_cesm_pop_2_1_20180419
Tag Summary: Merge latest marbl_dev_levy (n180) onto marbl_dev
             -- clean up ecosys_cfg hash in build-namelist
             -- only write ciso variables for ecosys namelists if MARBL
                is running with ciso_on = .true.
             -- MARBL tracer name change: zootot1[34]C instead of zoo1[34]Ctot
             -- only write about successful read of marbl_in on master task

Testing:     aux_pop on cheyenne compared to n85
             NL_COMP failures for tests with BGC
               -- more tracer name changes, and no ciso variables in pop_in
                  for runs without carbon isotopes
             Intermittent BGC BASELINE failures:
               -- 6 of 19 tests with BGC turned on fail baseline comparison.
                  This can be traced to a MARBL change where POP%prod is set
                  to zero when it is negative (previously it was set to zero
                  when POC%prod was not positive, which never happened). It
                  seems like POP%prod < 0 is fairly rare, hence only some
                  test failures.
               -- 1 test failure: The same bug that caused the 6 BASELINE
                  failures occasionally changes POP%prod enough to trigger
                  an about due to  mass balance conservation in Jint_Ptot.
                  This new issue will be fixed in a later MARBL tag.

Files Modified:
M       Externals_POP.cfg
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    20 Apr 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n85_cesm_pop_2_1_20180419
Tag Summary: Merge latest trunk onto marbl_dev

Testing:     aux_pop on cheyenne compared to n82
             NL_COMP failures (see test results from n84)
             BASELINE all pass

Files Modified:
M       ChangeLog
M       Externals_POP.cfg
M       cime_config/testdefs/testlist_pop.xml
M       drivers/cpl/ocn_comp_mct.F90
M       source/vmix_kpp.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    10 Apr 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n84_cesm_pop_2_1_20180406
Tag Summary: Merge latest marbl_dev_levy (n175) into marbl_dev

             This tag fixes the units of U10_SQR and also accounts for changes
             in MARBL tracer names. MARBL has been updated to a newer version
             as well.

Testing:     aux_pop_MARBL on cheyenne and hobart; all tests fail NLCOMP
             because of changes to ciso_tracer_init_ext, but the BASELINE
             tests still pass (cprnc doesn't flag renamed variables).
             Full test suite run with a pre-marbl0.28.7 tag, but single ciso
             test was built / run with latest MARBL to ensure compatibility.

Files Modified:
M       Externals_POP.cfg
M       MARBL_scripts/MARBL_wrappers/POP_ecosys_diagnostics.py
M       bld/namelist_files/namelist_defaults_pop.xml
M       source/forcing.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    6 Apr 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n83_cesm_pop_2_1_20180406
Tag Summary: Merge latest POP trunk tag (20180406); this should've been idenntical
             to n82 but trunk testing on hobart found some bugs

Testing:     None (identical to trunk tag modulo non-ecosys bug fixes)

Files Modified:
M       ChangeLog
M       input_templates/ocn.vmix.tavg.csh
M       source/tidal_mixing.F90
M       source/vmix_kpp.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    6 Apr 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n82_cesm_pop_2_1_20180405
Tag Summary: Merge latest POP trunk tag (20180405)

Testing:     aux_pop on cheyenne, compared to trunk baselines rather than previous
             marbl_dev_tag. Trunk changes include answer-changing modifications
             to tidal mixing, so no need to compare against previous marbl_dev.
             Results:
             * NLCOMP failures for all ecosys tests and all abio tests
             * BASELINE failures for the same, except the non-ecosys abio_transient
               test is bit-for-bit

Files Modified:
M       ChangeLog
M       Externals_POP.cfg
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    input_templates/ocn.base.tavg.csh.nstep
A  +    input_templates/ocn.vmix.tavg.csh
M       source/baroclinic.F90
M       source/budget_diagnostics.F90
A  +    source/geoheatflux.F90
M       source/initial.F90
M       source/niw_mixing.F90
M       source/restart.F90
M       source/step_mod.F90
M       source/tavg.F90
M       source/tidal_mixing.F90
M       source/time_management.F90
M       source/vertical_mix.F90
M       source/vmix_kpp.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    6 Apr 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n81_cesm_pop_2_1_20180205
Tag Summary: Merge latest marbl_dev_klindsay (n117) into marbl_dev and update to
             newer MARBL
             1. update paramterization of bioavailable iron for 
                iron_flux_source='driver-derived'
             2. also introduce separate iron_frac settings for dust and bc from
                seaice
             3. MARBL update changes default parameter values for ~10
                variables

testing:     aux_pop_marbl on hobart (Keith ran on cheyenne). Without updated
             MARBL, all tests will fail NLCOMP and the ecosys_dust_flux_driver
             test will also fail BASELINE. With updated MARBL, all tests fail
             both NLCOMP and BASELINE.

Files Modified:
M       Externals_POP.cfg
M       MARBL_scripts/MARBL_wrappers/POP_ecosys_diagnostics.py
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       drivers/cpl/ocn_import_export.F90
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/forcing.F90
M       source/forcing_coupled.F90
M       source/forcing_fields.F90
M       source/passive_tracers.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    28 Mar 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n80_cesm_pop_2_1_20180205
Tag Summary: Merge latest marbl_dev_klindsay (n115) into marbl_dev and update to
             newer MARBL
             1. POP update introduces box_atm_trace_gas_mod to 'simulate single-box
                atm trace gases'; 'box_atm_co2' is a valid value for both
                atm_co2_opt and atm_alt_co2_opt (set via OCN_CO2_TYPE)
             2. MARBL updates bring in
                a) Rather than output full column mass balance integrals, abort
                   if a threshold is exceeded (threshold comes from new
                   naelist variable); CISO_Jint_14Ctot now includes decay
                   term so it is conserved.
                b) Fix some forcing field units and introduce FESEDFLUX diagnostic
                c) Fix more forcing field and diagnostics units; note that
                   DUST_FLUX is no longer multiplied by conversion factor so it
                   will fail baseline comparisons; also DUST_REMIN was reporting
                   the wrong value. That has been corrected and will also cause
                   baseline failures.

testing:     aux_pop_marbl on cheyenne and hobart. all cases fail NLCOMP due
             to changes mentioned in (1) and (2a), and BASELINE due to changes mentioned
             in (2).

Files Modified:
M       Externals_POP.cfg
M       bld/build-namelist
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/config_component.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_box_atm_co2
A  +    source/box_atm_trace_gas_mod.F90
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
A  +    source/ecosys_forcing_saved_state_mod.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
M       source/restart.F90
M       source/running_mean_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    13 Mar 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n79_cesm_pop_2_1_20180205
Tag Summary: Merge latest marbl_dev_klindsay (n113) into marbl_dev
             Two orthogonal updates:
             1. Initial condition file updates:
                * iron_flux_input%filename for gx1v7 matches gx1v6 (had
                  previously used an older version of the file)
                * new version of fesedflux_input%filename for all resolutions
                * new version of feventflux_input%filename for all resolutions
             2. do13c and do14c should be total isotopic doc, not just
                semi-labile (so it now includes refactory as well). to make
                this clear in the code, variables have been renamed do13ctot
                and do14ctot.
             also, this branch now gets marbl from private github developer
             repository instead of the mirror in cesm dev repository.

testing:     aux_pop_marbl on cheyenne and hobart. all cases fail NLCOMP and
             BASELINE due to changes mentioned in (1). Additionally, (2)
             results in different variable names for some CISO diagnostics.

Files Modified:
M       Externals_POP.cfg
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    7 Mar 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n78_cesm_pop_2_1_20180205
Tag Summary: Merge latest marbl_dev_klindsay (n110) into marbl_dev
             Two orthogonal updates:
             1. Add additional MARBL diagnostics, included some 2D variables
                that are not necessarily masked at the surface (fluxes at 100m)
             2. Fix bug in creating PHYS-CYCLE cases, and add support (plus a
                compset alias) for ECO-PHYS-CYCLE

Testing:     aux_pop_MARBL on cheyenne and hobart. All cases fail NLCOMP due to
             addition of a variable in marbl_in, and all but daily_r4 fail
             BASELINE due to renaming some variables, adding others, and
             order-of-operation changes to two vertical integrals leading to
             round-off level differences.

Files Modified:
M       Externals.cfg
M       Externals_POP.cfg
M       MARBL_scripts/MARBL_wrappers/POP_ecosys_diagnostics.py
M       cime_config/config_component.xml
M       cime_config/config_compsets.xml
M       source/ecosys_driver.F90
M       source/ecosys_tavg.F90
M       source/tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    23 Feb 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n77_cesm_pop_2_1_20180205
Tag Summary: Use latest MARBL tag

             New MARBL fixes some small bugs in Python scripts and also ensures
             python3 compatibility.

Testing:     aux_pop_MARBL on cheyenne (intel and gnu) and hobart (nag,
             intel, pgi). All tests pass.

Files Modified:
M       Externals_POP.cfg
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    21 Feb 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n76_cesm_pop_2_1_20180205
Tag Summary: Merge latest marbl_dev_levy (n167) into marbl_dev

             This tag changes how marbl_in is read (each line is broadcast from
             master rather than slurping the whole file into a long string and
             converting it to an array of strings) -- the benefit is that the
             parameter marbl_in_line_cnt is no longer necessary, so there is no
             longer a limit on how long this file can be.

             Also brought in the latest version of MARBL (0.26.0), which fixes
             several small issues.

Testing:     aux_pop_MARBL on cheyenne (intel and gnu) and hobart (nag,
             intel, pgi). All tests pass except BASELINE for tests with
             ciso_on = .true.: MARBL tag changed answers for ciso compared
             to 0.25.0

Files Modified:
M       Externals_POP.cfg
M       source/ecosys_diagnostics_operators_mod.F90
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    13 Feb 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n75_cesm_pop_2_1_20180205
Tag Summary: Merge latest marbl_dev_levy (n165) into marbl_dev

             This tag uses MARBL's own python package to generate a list of
             diagnostics that MARBL can produce, and then POP parses that
             file to populate tavg_contents. This means that the POP scripts
             (such as ocn.ecosys.tavg.csh) do not need to know anything about
             the diagnostics MARBL is producing.

             Additionally, the number of diagnostics produced when lecosys_tavg_all
             is .true. has greatly increased.

Testing:     aux_pop on cheyenne (intel only), aux_pop_MARBL on cheyenne
             (intel and gnu) and hobart (nag, intel, pgi). All tests pass
             when compared to n74 because the test suite does not flag
             additional tavg variables as a failure.

Files Modified:
 M      .
M       Externals_POP.cfg
A  +    MARBL_scripts
M       bld/build-namelist
D       cime_config/MARBL_settings_wrapper
D       cime_config/MARBL_settings_wrapper/MARBL_settings.py
D       cime_config/MARBL_settings_wrapper/__init__.py
M       cime_config/buildcpp
M       cime_config/buildnml
D       input_templates/ocn.ciso.tavg.csh
M       input_templates/ocn.ecosys.tavg.csh
A  +    source/ecosys_diagnostics_operators_mod.F90
M       source/ecosys_driver.F90
M       source/ecosys_tavg.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
M       source/passive_tracers.F90
M       source/tavg.F90
A  +    source/utils_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    12 Feb 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n74_cesm_pop_2_1_20180205
Tag Summary: Update MARBL to latest version (0.24.4)

Testing:     aux_pop_MARBL on cheyenne (intel and gnu) and hobart (nag,
             intel, pgi). All tests pass: MARBL tag was bit-for-bit vs
             0.24.3

Files Modified:
M       Externals_POP.cfg
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    12 Feb 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n73_cesm_pop_2_1_20180205
Tag Summary: Merge latest POP trunk tag (20180205)

Testing:     Generated new baselines out of cesm2_0_beta09 sandbox for
             hobart and cheyenne (not bit-for-bit with n72, likely due
             to changes in cime and CICE)

Files Modified:
 M      .
M       ChangeLog
A  +    Externals.cfg
A  +    Externals_POP.cfg
A  +    README_EXTERNALS
D       SVN_EXTERNAL_DIRECTORIES
M       bld/generate_pop_decomp.xml
M       bld/namelist_files/namelist_defaults_pop.xml
M       cime_config/buildcpp
M       cime_config/buildlib
M       cime_config/buildnml
M       cime_config/config_component.xml
M       cime_config/config_compsets.xml
M       cime_config/config_pes.xml
A  +    externals
M       input_templates/gx1v7_tavg_contents
A  +    input_templates/tx0.1v3_POP_DomainSizeMod.F90
A  +    input_templates/tx0.1v3_depth_accel
A  +    input_templates/tx0.1v3_domain_size.F90
A  +    input_templates/tx0.1v3_history_contents
A  +    input_templates/tx0.1v3_movie_contents
A  +    input_templates/tx0.1v3_region_ids
A  +    input_templates/tx0.1v3_tavg_contents
A  +    input_templates/tx0.1v3_transport_contents
A  +    input_templates/tx0.1v3_vert_grid
M       source/baroclinic.F90
M       source/diagnostics.F90
M       source/forcing.F90
M       source/step_mod.F90
M       source/tavg.F90
M       source/time_management.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    19 Jan 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n72_cesm_pop_2_1_20171213
Tag Summary: Update MARBL to latest version (0.24.3)
             Three changes on the MARBL side:
             1. Avoid division by 0 in more places in marbl_ciso_mod.F90
                (bit-for-bit)
             2. Fix bug in computing POP_bury_coeff (bit-for-bit unless
                ladjust_bury_coeff = .true.)
             3. Update kinetic fraction during gas transfer to match
                CMIP6 spec (bit-for-bit unless ciso_on = .true.)

Testing:     aux_pop_MARBL on hobart and cheyenne. All tests should pass except
             BASELINE
             -- any test with ladjust_bury_coeff = .true.
             -- any test with ciso_on = .true.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    18 Jan 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n71_cesm_pop_2_1_20171213
Tag Summary: Merge latest marbl_dev_klindsay (n105) into marbl_dev
             Two orthogonal updates:
             1. change atm D14C defaults to 1850 CMIP6 lat_band values
             2. MARBL now uses in situ temperature rather than potential
                temperature for most computations; that adds one more
                diagnostic and also the forcing request now specifies
                that MARBL wants Potential Temperature from the GCM.

Testing:     Keith ran tests on cheyenne (all tests should run successfully,
             but NLCOMP and BASELINE failures in all tests); I ran aux_pop_MARBL
             on hobart and saw the same.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       input_templates/ocn.ecosys.tavg.csh
M       source/abio_dic_dic14_mod.F90
M       source/c14_atm_forcing_mod.F90
M       source/ecosys_forcing_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    16 Jan 2018
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n70_cesm_pop_2_1_20171213
Tag Summary: Update version of MARBL to fix bug in restoring and also restore
             ALK_ALT_CO2 (to same field as ALK)

Testing:     aux_pop_MARBL on hobart and cheyenne -- this tag introduces
             namelist changes and also changes answers so all tests fail
             NLCOMP and BASELINE tests but no other failures reported.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/namelist_files/namelist_defaults_pop.xml
M       input_templates/ocn.ecosys.tavg.csh
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    13 Dec 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n69_cesm_pop_2_1_20171213
Tag Summary: Merge POP trunk onto MARBL

Testing:     none, identical to n68 except changelog

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    13 Dec 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n68_cesm_pop_2_1_20171117b
Tag Summary: Fix multi-instance support in ecosys_driver.F90

             A multi-instance test in the CESM beta testing failed because
             ecosys_driver was expecting the MARBL settings file to be
             named marbl_in but buildnml was appending the instance number
             so the files were actually marbl_in_0001, etc. Fix is to
             add marbl_settings_file to &ecosys_driver_nml (and read the
             namelist before reading the marbl settings file).

             Also, I added a multi-instance test to aux_pop_MARBL on both
             hobart and cheyenne that changes the lsource_sink flag in
             MARBL between the two instances (.true. in 0001, .false. in
             0002).

Testing:     aux_pop_MARBL on cheyenne (intel and gnu) and hobart (nag,
             intel, pgi). All tests pass except NLCOMP fail due to addition
             of marbl_settings_file to pop_in and the new SMS_N2 tests fail
             since there are no baselines for comparison

Files Modified:
M       bld/build-namelist
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/MARBL_settings_wrapper/MARBL_settings.py
M       cime_config/buildcpp
M       cime_config/buildnml
M       cime_config/testdefs/testlist_pop.xml
A       cime_config/testdefs/testmods_dirs/pop/ecosys_multiinst_lsource_sink
A       cime_config/testdefs/testmods_dirs/pop/ecosys_multiinst_lsource_sink/include_user_mods
A       cime_config/testdefs/testmods_dirs/pop/ecosys_multiinst_lsource_sink/user_nl_marbl_0001
A       cime_config/testdefs/testmods_dirs/pop/ecosys_multiinst_lsource_sink/user_nl_marbl_0002
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    17 Nov 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n67_cesm_pop_2_1_20171117b
Tag Summary: Merge latest marbl_dev_levy (n139) into marbl_dev

             This tag uses MARBL's own python package to generate marbl_in
             instead of build-namelist, so MARBL parameters should now be
             changed in user_nl_marbl rather than user_nl_pop. Note that
             this isn't identical to marbl_dev_levy_n139, because I found a
             bug in the performance_eval test that I fixed here and will
             merge back to marbl_dev_levy.

             Note that the carbon isotope module is now enabled by setting
             ciso_on = .true. in user_nl_marbl rather than adding ciso to
             OCN_TRACER_MODULES. Additionally, the MARBL-specific variables
             ECOSYS_BASE_NT, CISO_NT, and VARIABLE_PTOC are no longer valid
             settings in OCN_TRACER_MODULES_OPT.

Testing:     aux_pop on cheyenne (intel only), aux_pop_MARBL on cheyenne
             (intel and gnu) and hobart (nag, intel, pgi). All tests pass
             except NLCOMP fail due to changes in formatting of marbl_in.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
A  +    cime_config/MARBL_settings_wrapper
M       cime_config/buildcpp
M       cime_config/buildlib
M       cime_config/buildnml
D       cime_config/testdefs/testmods_dirs/pop/ciso/shell_commands
A  +    cime_config/testdefs/testmods_dirs/pop/ciso/user_nl_marbl
D       cime_config/testdefs/testmods_dirs/pop/ciso_daily_r4_tavg/shell_commands
A  +    cime_config/testdefs/testmods_dirs/pop/ciso_daily_r4_tavg/user_nl_marbl
D       cime_config/testdefs/testmods_dirs/pop/ecosys_fixed_PtoC/shell_commands
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_fixed_PtoC/user_nl_marbl
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_ladjust_bury_coeff/user_nl_marbl
D       cime_config/testdefs/testmods_dirs/pop/ecosys_ladjust_bury_coeff/user_nl_pop
A       cime_config/testdefs/testmods_dirs/pop/performance_eval/user_nl_marbl
M       cime_config/testdefs/testmods_dirs/pop/performance_eval/user_nl_pop
M       input_templates/ocn.ecosys.tavg.csh
A  +    input_templates/user_nl_marbl
M       source/ecosys_driver.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
M       source/passive_tracers.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    17 Nov 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n66_cesm_pop_2_1_20171117b
Tag Summary: Merge POP trunk onto MARBL

Testing:     none, identical to n65 except changelog

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    17 Nov 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n65_cesm_pop_2_1_20171117
Tag Summary: Merge latest trunk tag into marbl_dev

             This merge brings in a bug fix for 5day_r4_tavg testmod dir

Files Modified:
M       ChangeLog
M       cime_config/testdefs/testmods_dirs/pop/5day_r4_tavg/user_nl_pop
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    16 Nov 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n64_cesm_pop_2_1_20171116
Tag Summary: Merge latest trunk tag into marbl_dev

             This merge brings in
             1) Namelist parm to perturb initial conditions
             2) Bugfix for reading r4 restart history file
             3) Bugfix in a couple test definitions (history files weren't
                written at expected frequency)

Testing:     aux_pop_MARBL on hobart (nag, intel, pgi) and yellowstone (intel,
             gnu) all tests fail NLCOMP due to change in dust flux varnames
             and the ecosys_dust_flux_driver tests fail baseline comparison
             due to round-off level changes (order of operations changed)

Files Modified:
M       ChangeLog
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/5day_r4_tavg
M       cime_config/testdefs/testmods_dirs/pop/5day_tavg/user_nl_pop
M       source/initial.F90
M       source/tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    16 Nov 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n63_cesm_pop_2_1_20171008
Tag Summary: Merge latest marbl_dev_klindsay (n97) into marbl_dev

             This merge brings in
             1) split dust flux into fine and coarse
             2) check tracer tendencies and surface fluxes from MARBL for NaNs
                (POP aborts if NaN is returned)

Testing:     aux_pop_MARBL on hobart (nag, intel, pgi) and yellowstone (intel,
             gnu) all tests fail NLCOMP due to change in dust flux varnames
             and the ecosys_dust_flux_driver tests fail baseline comparison
             due to round-off level changes (order of operations changed)

Files Modified:
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       drivers/cpl/ocn_import_export.F90
M       input_templates/ocn.ecosys.tavg.csh
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/forcing.F90
M       source/forcing_coupled.F90
M       source/forcing_fields.F90
M       source/passive_tracers.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    15 Nov 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n62_cesm_pop_2_1_20171008
Tag Summary: Update MARBL from 0.21.0 to 0.21.2

             Bugfix for PAR threshold

Testing:     aux_pop_MARBL was bit-for-bit (and NLCOMP tests all passed) on hobart
             (intel, gnu, and pgi*) and yellowstone (intel, gnu).

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    15 Nov 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n61_cesm_pop_2_1_20171008
Tag Summary: Merge latest marbl_dev_klindsay (n94) into marbl_dev

             This merge brings in
             1) support for phys_cycle
             2) refactoring of D14C atm forcing in abio and ciso
             3) introduction and usage of forcing_timeseries_mod
             4) new CMIP6 D14C and d13C atm forcing datasets

Testing:     aux_pop_MARBL on cheyenne [intel, gnu] and hobart [nag, intel,
             pgi]; NLCOMP tests pass and baseline comparisons are bit-for-bit
             EXCEPT for
             1) abio transisent compsets (different transient dataset)
             2) ciso transient and non-transient compsets (different transient
             dataset and different PI value for d13c)
             3) cfc's and sf6 (different interpolation formula for atm forcing
             leads to roundoff changes)

Files Modified:
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/buildnml
M       cime_config/config_component.xml
M       cime_config/config_compsets.xml
A  +    cime_config/phys_cycle_postrun
A  +    cime_config/phys_cycle_prerun
M       cime_config/testdefs/testlist_pop.xml
M       cime_config/testdefs/testmods_dirs/pop/abio_dic_dic14_transient/user_nl_pop
A  +    cime_config/testdefs/testmods_dirs/pop/ciso_transient_abio_dic_dic14_transient
M       source/abio_dic_dic14_mod.F90
A  +    source/c14_atm_forcing_mod.F90
M       source/cfc_mod.F90
M       source/ecosys_forcing_mod.F90
A  +    source/forcing_timeseries_mod.F90
M       source/passive_tracer_tools.F90
M       source/passive_tracers.F90
M       source/sf6_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    18 Oct 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n60_cesm_pop_2_1_20171008
Tag Summary: Merge latest marbl_dev_levy (n125) into marbl_dev

             This update moves iron_frac_in_dust and iron_frac_in_bc from
             MARBL to POP

Testing:     aux_pop_MARBL is bit-for-bit with marbl_dev_n59, but the
             namelist comparisons fail because variables got moved from
             marbl_in to pop_in. (Tested on cheyenne [intel, gnu] and
             hobart [nag, intel, and pgi])

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    17 Oct 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n59_cesm_pop_2_1_20171008
Tag Summary: Merge latest pop trunk into marbl_dev

Testing:     aux_pop_MARBL is bit-for-bit with the Oct 8 trunk tag, though
             namelist comparisons fail because of namelist changes on this
             branch. (Tested on cheyenne [intel, gnu] and hobart [nag, intel,
             and pgi])

Files Modified:
M       ChangeLog
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/buildcpp
M       cime_config/buildnml
M       cime_config/config_component.xml
M       cime_config/config_compsets.xml
M       cime_config/config_pes.xml
M       cime_config/testdefs/testlist_pop.xml
M       source/baroclinic.F90
M       source/io.F90
M       source/io_netcdf.F90
M       source/io_pio.F90
M       source/io_types.F90
M       source/tavg.F90
M       source/vmix_kpp.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    13 Sept 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n58_cesm_pop_2_1_20170703
Tag Summary: Merge latest marbl_dev_levy (n121) into marbl_dev

             This adds more MARBL variables to marbl_in (only via user_nl_pop,
             there are no new default values for them)

Testing:     Verified that preview_namelists still runs, and then when setting
             these PFT variables to the defaults set in the fortran code then
             POP is bit-for-bit. I don't think running the test suite is
             necessary to verify these changes work as expected.

Files Modified:
M       bld/namelist_files/namelist_definition_pop.xml
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    11 Sept 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n57_cesm_pop_2_1_20170703
Tag Summary: Merge latest marbl_dev_levy (n119) into marbl_dev

             This brings MARBL up to 0.20.0 (this version of MARBL improves
             the initialization process in MARBL)

Testing:     aux_pop and aux_pop_MARBL on cheyenne and yellowstone;
             aux_pop_MARBL on hobart. This tag is bit-for-bit with
             marbl_dev_n57 but all NLCOMP tests fail due to changes in how
             MARBL is initialized (introduces marbl_in to handle all MARBL
             parameters, and also adds some parameters that previously were
             not available via namelist)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/buildcpp
M       cime_config/buildnml
M       cime_config/testdefs/testmods_dirs/pop/ecosys_fixed_PtoC/shell_commands
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
A  +    source/namelist_from_str_mod.F90
M       source/prognostic.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    3 July 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n56_cesm_pop_2_1_20170703
Tag Summary: Merge POP trunk onto MARBL

Testing:     none, identical to n56 except changelog

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    3 July 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n55_cesm_pop_2_1_20170702
Tag Summary: Merge POP trunk onto MARBL (note: that trunk tag still had
             ocn_comp_esmf in repo, even though it had been deleted locally
             prior to testing; I removed it from repository in this tag)

Testing:     aux_pop_MARBL on hobart, cheyenne, and yellowstone (bit-for-bit
             with marbl_dev_levy_n104, all comparisons passed)

Files Modified:
M       ChangeLog
M       cime_config/buildlib
D       drivers/cpl/ocn_comp_esmf.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    3 July 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n54_cesm_pop_2_1_20170623
Tag Summary: merge latest marbl_dev_levy (n104) into marbl_dev

             This updates aux_pop_MARBL tests to use gx1v7 instead of gx1v6

Testing:     generated new baselines from aux_pop_MARBL with marbl_dev_levy
             on cheyenne, yellowstone, and hobart (updated my sandbox to
             later version of CICE, which changed answers in G compsets...
             in addition to the 1 degree tests not having baselines to compare
             against given the resolution change)

Files Modified:
M       cime_config/testdefs/testlist_pop.xml
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    22 June 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n53_cesm_pop_2_1_20170623
Tag Summary: Merge POP trunk onto MARBL

Testing:     aux_pop_MARBL testing on previous marbl_dev tag, aux_pop testing on
             the 20170623 trunk tag (see ChangeLog for details)

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    22 June 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n52_cesm_pop_2_1_20170615
Tag Summary: Merge POP trunk onto MARBL

Testing:     aux_pop_MARBL was bit-for-bit (and NLCOMP tests all passed) on hobart
             (intel, gnu, and pgi*), cheyenne (intel, gnu) and yellowstone (intel,
             gnu). [compared to marbl_dev_n49]

Files Modified:
M       ChangeLog
M       cime_config/config_compsets.xml
M       source/abio_dic_dic14_mod.F90
M       source/cfc11_mod.F90
M       source/cfc_mod.F90
M       source/ecosys_driver.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
M       source/iage_mod.F90
M       source/io_binary.F90
M       source/io_netcdf.F90
M       source/io_types.F90
M       source/passive_tracer_tools.F90
M       source/passive_tracers.F90
M       source/restart.F90
M       source/sf6_mod.F90
M       source/step_mod.F90
M       source/tavg.F90
M       source/time_management.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    21 June 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n51_cesm_pop_2_1_20170601
Tag Summary: Update MARBL from 0.19.1 to 0.19.2

             Improved error message in one MARBL routine

Testing:     aux_pop_MARBL was bit-for-bit (and NLCOMP tests all passed) on hobart
             (intel, gnu, and pgi*), cheyenne (intel, gnu) and yellowstone (intel,
             gnu).

             * PGI is still being weird, and two tests don't build (failing in
               marbl_parms) if you run create_test with --generate or --compare.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    19 June 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n50_cesm_pop_2_1_20170601
Tag Summary: Update MARBL from 0.19.0 to 0.19.1

             Lots of small code-cleanup changes, but nothing that changes the
             interface and nothing that changes answers.

Testing:     aux_pop_MARBL was bit-for-bit (and NLCOMP tests all passed) on hobart
             (intel, gnu, and pgi*), cheyenne (intel, gnu) and yellowstone (intel,
             gnu).

             * PGI is being weird, and two tests don't build (failing in marbl_parms)
               if you run create_test with --generate or --compare. Weird.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    17 June 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n49_cesm_pop_2_1_20170601
Tag Summary: merge latest marbl_dev_levy (n100) into marbl_dev

             * Update to marbl0.19.0 relese
             * Clean up MARBL namelist interface (MARBL no longer sets string
               length or array size as build-time parameters)
             * Correct diagnostic name from diatbSi_form to diat_bSi_form

Testing:     Changes in MARBL are answer-changing, so baseline comparisons in
             aux_pop_MARBL fail. Namelist comparisons still pass; ran test
             suite on cheyenne, yellowstone, and hobart

             *** Two PGI tests on hobart fail in the MODEL_BUILD phase:

      SMS.T62_g37.C1850ECO.hobart_pgi.pop-ecosys_ladjust_bury_coeff
      SMS.T62_g37.C1850ECO.hobart_pgi.pop-ecosys_read_fallback_gx3v7

             The tests build fine individually, but fail as part of the test
             suite. Maybe this is a CIME issue? (Something with the shared
             build?) I'll talk to Jim Edwards about this, but don't think it
             needs to hold up the tag.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       input_templates/ocn.ecosys.tavg.csh
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    7 June 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n48_cesm_pop_2_1_20170601
Tag Summary: merge latest marbl_dev_levy (n95) into marbl_dev

             This code removes gcm_num_elements_interior_forcing from the MARBL
             interface.

Testing:     aux_pop_MARBL was bit-for-bit (and NLCOMP passed as well) when compared
             to the June 1st POP trunk tag on cheyenne, yellowstone, and hobart
             Note that I tested this from marbl_dev_levy and did not re-run tests
             after the merge onto marbl_dev.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    1 June 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n47_cesm_pop_2_1_20170601
Tag Summary: merge latest POP trunk onto marbl_dev

Testing:     No new testing for this tag; see ChangeLog for aux_pop testing on
             POP trunk and previous entries in this file for aux_pop_MARBL
             tests

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    31 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n46_cesm_pop_2_1_20170516
Tag Summary: update MARBL to work around a PGI issue

Testing:     Ran aux_pop_MARBL on cheyenne, yellowstone, and hobart; verified
             all tests completed successfully and passed baseline / namelist
             comparisons with marbl_dev_n45 (the three tests that failed
             hobart_pgi in marbl_dev_n45 due to bug had been re-run with this
             fix)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    31 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n45_cesm_pop_2_1_20170516
Tag Summary: merge marbl_dev_klindsay_n73 in

             1) Change default parameters
             2) Rename compsets (CECO -> C1850ECO; GECO -> G1850ECO)
                Also added G1850ECOIAF
             3) sf6 & cfcs are both added to compsets together during
                transient runs; also improved logic surrounding check for
                appropriate sf6 / cfc datasets
             4) namelist option to set precip_fact to a constant
             5) Better logic surrounding whether to add alt_co2 variables to
                tavg output
             6) BUGFIX: processing of tavg_contents file was sometimes
                accessing unitialized rows of tavg_contents_request in
                tavg:init_tavg(); this sometimes led to hangs in global sums
                (in tavg_global()) because different tasks had different flags
                for which fields were being averaged. This also led to
                  inconsistent tavg buffer sizes.
             7) Added running means of global scalars to tavg output
             8) Added new consistency checks to help avoid issues like (6) in
                the future
             9) Fixed a bug in EBM -- correction terms were not being applied
                correctly
             10) Updated to latest version of MARBL, which includes a bug fix
                 for setting POC and POP related terms when ladjust_bury_coeff
                 is .true. and the surface flux for those terms is 0.
             11) Cleaned up code so we can test with nag compiler and DEBUG =
                 TRUE

Testing:     Ran aux_pop and aux_pop_MARBL on cheyenne and yellowstone (both
             intel and gnu) and aux_pop_MARBL on hobart (nag, intel, and pgi).
             Verified that all tests ran, baseline comparisons failed because
             compset names changed (but there were answer changes and namelist
             changes regardless).

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/config_component.xml
M       cime_config/config_compsets.xml
M       cime_config/config_pes.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/cfc_sf6
M       cime_config/testdefs/testmods_dirs/pop/default/user_nl_pop
M       cime_config/testdefs/testmods_dirs/pop/ecosys/user_nl_pop
M       cime_config/testdefs/testmods_dirs/pop/performance_eval/user_nl_pop
M       input_templates/ocn.ecosys.tavg.csh
M       mpi/POP_ReductionsMod.F90
M       mpi/global_reductions.F90
M       source/cfc_mod.F90
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/ecosys_tavg.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
M       source/forcing.F90
M       source/forcing_coupled.F90
M       source/forcing_sfwf.F90
M       source/hmix_aniso.F90
M       source/initial.F90
M       source/passive_tracer_tools.F90
M       source/passive_tracers.F90
M       source/prognostic.F90
M       source/running_mean_mod.F90
M       source/sf6_mod.F90
M       source/tavg.F90
M       source/tidal_mixing.F90
A  +    source/var_consistency_mod.F90
M       source/vmix_kpp.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    24 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n44_cesm_pop_2_1_20170516
Tag Summary: merge pop trunk (20170516) onto marbl_dev

             bug fix in cubic root find for estuary box model

Testing:     Verified code still builds on hobart, cheyenne, and yellowstone

Files Modified:
M       ChangeLog
M       source/estuary_vsf_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    24 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n43_cesm_pop_2_1_20170508
Tag Summary: merge marbl_dev_levy (n91) back to marbl_dev

             Update default PE layouts on NCAR machines, add decompositions
             for a few missing layouts, and and a performance evaluation test
             to testmods_dir (and aux_pop testlist). Also fixed a bug in step_mod
             that prevented running without computing global budgets.

Testing:     aux_pop_MARBL on hobart (bit-for-bit with marbl_dev_n42) and cheyenne
             (not bit-for-bit because of layout changes). I'm still stuck in
             standby for yellowstone, so I didn't test there (but expect answer
             changes due to different PE layouts there as well)

Files Modified:
M       BranchChangeLog
M       bld/generate_pop_decomp.xml
M       cime_config/config_pes.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/performance_eval
M       source/step_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    16 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n42_cesm_pop_2_1_20170508
Tag Summary: Allow ndep_data_type = "driver" (get NDEP from flux coupler), also
             change lapply_nhx_surface_emis default value from false -> true
             and removed a couple of un-necessary tests from testmods_dir

Testing:     Generated new aux_pop_MARBL baselines with these source mods, then
             went back to marbl_dev_n41, changed lapply_nhx_surface_emis to .true.
             in namelist defaults file to match this tag, and compared that sandbox
             to new baselines. Was bit for bit on both hobart and yellowstone
             (NLCOMP failures because we renamed lapply_nhx_surface_emis to
             lcompute_nhx_surface_emis)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testlist_pop.xml
D       cime_config/testdefs/testmods_dirs/pop/ecosys_apply_nhx_surface_emis
D       cime_config/testdefs/testmods_dirs/pop/ecosys_apply_nhx_surface_emis/include_user_mods
D       cime_config/testdefs/testmods_dirs/pop/ecosys_apply_nhx_surface_emis/user_nl_pop
D       cime_config/testdefs/testmods_dirs/pop/ecosys_shr_stream
D       cime_config/testdefs/testmods_dirs/pop/ecosys_shr_stream/include_user_mods
D       cime_config/testdefs/testmods_dirs/pop/ecosys_shr_stream/user_nl_pop
M       drivers/cpl/POP_CplIndices.F90
M       drivers/cpl/ocn_comp_mct.F90
M       drivers/cpl/ocn_import_export.F90
M       source/ecosys_forcing_mod.F90
M       source/forcing_fields.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    15 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n41_cesm_pop_2_1_20170508
Tag Summary: Bring in latest marbl_dev_levy (remove surface mask)

Testing:     aux_pop_MARBL on cheyenne (bit-for-bit with marbl_dev_n40, plus made
             new baselines because system issues prevented intel ERI baseline
             from being generated with previous tag)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    12 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n40_cesm_pop_2_1_20170508
Tag Summary: MARBL bug fix caught by intel 17 debug testing (updating MARBL
             external from v0.14.0 -> v0.14.1)

Testing:     aux_pop_MARBL on cheyenne runs successfully (previously debug tests
             failed). ERS.G tests also failed with previous marbl_dev tag, but
             that was due to the CICE tag I was using (updated CICE tag in this
             round of testing, and those tests all pass as well).

             Note that using a sandbox based on cesm2_0_alpha06j requires updating
             CIME to cime5.3.0-alpha.12 if you use the "--queue" option when you
             launch create_test.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    9 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n39_cesm_pop_2_1_20170508
Tag Summary: Merge latest pop trunk tag

Testing:     aux_pop and aux_pop_MARBL with cime5.3.0-alpha.07 and cice5_20170316
             gx3v7 should be bit-for-bit with previous marbl_dev tag but gx1v6 is
             not (trunk was answer-changing for gx1 grids)

Files Modified:
M       ChangeLog
M       bld/generate_pop_decomp.xml
M       cime_config/buildcpp
M       cime_config/config_component.xml
M       cime_config/testdefs/testlist_pop.xml
M       source/forcing_shf.F90
M       source/grid.F90
M       source/step_mod.F90
M       source/tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    3 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n38_cesm_pop_2_1_20170323
Tag Summary: Bring in marbl_dev_levy, which addressed 5 MARBL issues. The
             following required changes on the POP side as well:

             * MARBL diagnostic types are "reallocatable" so they no longer
               have a diag_cnt variable; we use size() to determine number of
               diagnostics
             * MARBL domain type no longer has dz; previously it had both dz
               and delta_z denoting the same value (level thickness)
             * No locmip_k1_k2_bug_fix variable any more; it had already been
               removed from the namelist, but I found one last remnant of an
               XML variable in build-namelist to clean up

Testing:     aux_pop with cime5.3.0-alpha.07 and cice5_20170316 compared to
             baselines generated by previous tag [aux_pop_MARBL had been run
             on both yellowstone and hobart on the marbl_dev_levy side]

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       source/ecosys_driver.F90
M       source/ecosys_tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    2 May 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n37_cesm_pop_2_1_20170323
Tag Summary: Bring in marbl_dev_klindsay -- some changes below occur in MARBL,
             most require driver updates as well though.

             * Add lig tracer, reformulate iron scavenging
             * Variable P:C ratio => new tracer per autotroph
               -- implemented as option controlled by lvariable_PtoC
             * Move interior_restore_diags into interior_forcing_diags
             * Elemental Jint integrals shouldn't have restoring
             * Move river fluxes out of MARBL (GCM passes them as external
               forcing)
             * Bug in P-limitation formula was fixed
             * Wanninkhof 2014 for Schmidt numbers and xkw_coeff
             * Add ALK_ALT_CO2 tracer and P_CaCO3_ALT_CO2 sinking particle

Testing:     aux_pop_MARBL with cime5.3.0-alpha.07 and cice5_20170316 compared
             to baselines generated by Keith; bit-for-bit on both yellowstone
             hobart

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/buildcpp
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_fixed_PtoC
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_read_fallback_gx3v7
D       cime_config/testdefs/testmods_dirs/pop/ecosys_restore_gx3v7
D       cime_config/testdefs/testmods_dirs/pop/ecosys_restore_gx3v7/include_user_mods
D       cime_config/testdefs/testmods_dirs/pop/ecosys_restore_gx3v7/user_nl_pop
 M      drivers/cpl
M       drivers/cpl/ocn_comp_mct.F90
 M      drivers/cpl_none
M       input_templates/ocn.ciso.tavg.csh
M       input_templates/ocn.ecosys.tavg.csh
M       source/baroclinic.F90
M       source/cfc11_mod.F90
M       source/cfc_mod.F90
M       source/constants.F90
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/ecosys_tavg.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
M       source/estuary_vsf_mod.F90
M       source/forcing.F90
M       source/forcing_coupled.F90
M       source/forcing_fields.F90
M       source/forcing_pt_interior.F90
M       source/forcing_s_interior.F90
M       source/grid.F90
M       source/ice.F90
M       source/initial.F90
M       source/io.F90
A  +    source/io_read_fallback_mod.F90
M       source/passive_tracers.F90
M       source/schmidt_number.F90
M       source/sf6_mod.F90
M       source/state_mod.F90
M       source/step_mod.F90
M       source/strdata_interface_mod.F90
M       source/tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    19 April 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n36_cesm_pop_2_1_20170323
Tag Summary: Bring in marbl_dev_levy2 (surface forcing only at ocean points)

Testing:     aux_pop_MARBL with cime5.2.0-alpha.23 and cice5_20170126 compared
             to baselines generated with pop trunk; bit for bit on
             yellowstone and hobart

Files Modified:
 M      .
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    18 April 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n35_cesm_pop_2_1_20170323
Tag Summary: Bring in marbl_dev_levy2 (better logging messages)

Testing:     aux_pop_MARBL with cime5.2.0-alpha.23 and cice5_20170126 compared
             to baselines generated with pop trunk; bit for bit on
             yellowstone (will run on hobart after commit)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    30 March 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n34_cesm_pop_2_1_20170323
Tag Summary: Merge latest pop trunk tag

Testing:     aux_pop and aux_pop_MARBL with cime5.2.0-alpha.23 and cice5_20170126
             compared to baselines generated with pop trunk; bit for bit on
             yellowstone (will run on hobart after commit)

Files Modified:
M       ChangeLog
M       bld/build-namelist
M       bld/generate_pop_decomp.xml
M       bld/namelist_files/namelist_defaults_pop.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/5day_tavg
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_5day_tavg
A  +    input_templates/gx1v7_1D_tavg_contents
A  +    input_templates/gx1v7_POP_DomainSizeMod.F90
A  +    input_templates/gx1v7_depth_accel
A  +    input_templates/gx1v7_domain_size.F90
A  +    input_templates/gx1v7_history_contents
A  +    input_templates/gx1v7_movie_contents
A  +    input_templates/gx1v7_niw_tavg_contents
A  +    input_templates/gx1v7_overflow
A  +    input_templates/gx1v7_region_ids
A  +    input_templates/gx1v7_tavg_contents
A  +    input_templates/gx1v7_tavg_contents_high_freq
A  +    input_templates/gx1v7_transport_contents
A  +    input_templates/gx1v7_vert_grid
M       source/baroclinic.F90
M       source/budget_diagnostics.F90
M       source/ice.F90
M       source/step_mod.F90
M       source/tavg.F90
M       source/timers.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    22 February 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n33_cesm_pop_2_1_20170222a
Tag Summary: Merge latest pop trunk tag (identical to marbl_dev_n32)

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    22 February 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n32_cesm_pop_2_1_20170222
Tag Summary: Merge latest pop trunk tag

Testing:     aux_pop_MARBL with cime5.2.0-alpha.23 and cice5_20170126 compared
             to baselines generated with pop trunk; bit for bit on yellowstone
             and hobart (will run aux_pop after merging back onto trunk)

Files Modified:
M       ChangeLog
M       source/budget_diagnostics.F90
M       source/io_netcdf.F90
M       source/io_pio.F90
M       source/step_mod.F90
M       source/tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    14 February 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n31_cesm_pop_2_1_20170128
Tag Summary: Performance enhancements surrounding call to marbl_set_interior()
             -- no need to transpose saved_state every time step, only before
                writing the restart file!
             -- introduce new tavg accumulation buffer that is (k,i,j) instead
                of (i,j,k); accumulate columns using that buffer
             -- had a string comparison in ecosys_tavg.F90 that was done for
                every column at every timestep; replaced with less
                time-consuming check

Testing:     aux_pop and aux_pop_MARBL with cime5.2.0-alpha.23 and
             cice5_20170126, compare to marbl_dev_n28, baselines are
             bit-for-bit on yellowstone (intel and gnu) as well as hobart
             (nag and intel, except nag debug test still fails)

Files Modified:
M       source/ecosys_driver.F90
M       source/ecosys_tavg.F90
M       source/ecosys_tracers_and_saved_state_mod.F90
M       source/tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    7 February 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n30_cesm_pop_2_1_20170128
Tag Summary: Bring in latest MARBL tag (internal timers)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       cime_config/buildcpp
 M      drivers/cpl
M       drivers/cpl/POP_FinalMod.F90
 M      drivers/cpl_none
M       source/diagnostics.F90
M       source/ecosys_driver.F90
M       source/passive_tracers.F90
M       source/timers.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    3 February 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n29_cesm_pop_2_1_20170128
Tag Summary: Add timer for setting ecosys forcing prior to MARBL call

Files Modified:
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    3 February 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n28_cesm_pop_2_1_20170128
Tag Summary: merge in latest trunk tag; sandboxes now require cime tag from
             cesm2_0_alpha06b or later

Files Modified:
 M      .
M       ChangeLog
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       source/estuary_vsf_mod.F90
M       source/forcing.F90
M       source/forcing_coupled.F90
M       source/tavg.F90
M       source/vmix_kpp.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    20 January 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n27_cesm_pop_2_1_20170120
Tag Summary: merge in latest trunk tag (book-keeping, merge, no change to
             source code)

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    20 January 2017
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n26_cesm_pop_2_1_20170119
Tag Summary: Merge latest POP trunk tag

Testing:     aux_pop_MARBL with cime5.2.0-alpha.9 and cice5_20161021, compare
             to marbl_dev_n26
             1. Baseline comparisons are all bit-for-bit
             2. all namelist tests fail due to removal of moby_on

Files Modified:
 M      .
M       ChangeLog
M       bld/build-namelist
D       bld/config_files
D       bld/config_files/definition.xml
D       bld/config_files/definition.xsl
D       bld/configure
M       bld/generate_pop_decomp.pl
A  +    bld/generate_pop_decomp.xml
D       bld/moby_activate.csh
D       bld/moby_deactivate.csh
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
D       bld/pop_decomp.xml
A  +    cime_config/buildcpp
M       cime_config/buildlib
M       cime_config/buildnml
M       cime_config/config_component.xml
M       cime_config/config_compsets.xml
 M      drivers/cpl
M       drivers/cpl/POP_FinalMod.F90
 M      drivers/cpl_none
D       input_templates/ocn.moby.tavg.csh
D       source/moby_mod.F90
D       source/moby_parms.F90
M       source/passive_tracers.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    21 December 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n25_cesm_pop_2_1_20161116
Tag Summary: Bring in generalized interior forcing specification from
             marbl_dev_levy (also bumps MARBL to v0.10.0)

Testing:     Bit for bit with marbl_dev_n24 out of cesm2_0_beta04 sandbox
             on yellowstone_intel, yellowstone_gnu, and hobart_nag (aux_pop
             and aux_pop_MARBL testlists.) Changes in the way restoring is
             handled causes namelist fails in all CECO and GECO compsets but
             it is not answer-changing in the code.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testmods_dirs/pop/ecosys_restore_gx3v7/user_nl_pop
 M      drivers/cpl
 M      drivers/cpl_none
M       source/ecosys_driver.F90
M       source/ecosys_forcing_mod.F90
M       source/passive_tracers.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    5 December 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n24_cesm_pop_2_1_20161116
Tag Summary: Update MARBL to 0.9.2

Testing:     Bit for bit with marbl_dev_n23 out of cesm2_0_beta04 sandbox
             on yellowstone_intel and yellowstone_gnu (klindsay verified
             hobart_nag)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
===============================================================================
Tag Creator: mlevy
Developers:  jet
Tag Date:    21 November 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n23_cesm_pop_2_1_20161116
Tag Summary: merge latest trunk tag onto marbl_dev (tested with
             cime5.2.0-alpha.9 in cesm2_0_beta04; nag required ww3_161014)

Testing:     Bit for bit with marbl_dev_n21 when rolling back cice from the
             version in cesm2_0_beta04 to the version in my last sandbox.
             Generated new baselines with beta04 sandbox due to changes in G
             and GECO compsets. [Comparisons were done with aux_pop on
             yellowstone_intel and aux_pop_MARBL on yellowstone_intel and
             yellowstone_gnu; new baselines generated with hobart_nag but it
             has been so long since POP worked with NAG that no baselines were
             available for testing.]

Files Modified:
 M      .
M       ChangeLog
M       mpi/POP_BroadcastMod.F90
M       mpi/POP_CommMod.F90
M       mpi/POP_HaloMod.F90
M       mpi/POP_RedistributeMod.F90
M       mpi/POP_ReductionsMod.F90
M       source/cfc11_mod.F90
X       source/cvmix
M       source/estuary_vsf_mod.F90
M       source/forcing_ap.F90
M       source/forcing_sfwf.F90
M       source/forcing_shf.F90
M       source/forcing_ws.F90
M       source/grid.F90
M       source/initial.F90
M       source/io_binary.F90
X       source/marbl
M       source/overflows.F90
M       source/step_mod.F90
M       source/sw_absorption.F90
M       source/vmix_kpp.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    8 November 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n22_cesm_pop_2_1_20161026
Tag Summary: 3 minor bug fixes
             1. MARBL status log not checked after calling
                set_interior_forcing()
             2. The "level" argument is ignored when accumulating 2D fields,
                but convention is to specify k=1; in accumulating some MARBL
                surface fluxes we were specifying k = diagnostic index
             3. Had an allocatable variable with dimension max_blocks_clinic
                when it should have been nblocks_clinic

             Also renamed a variable (FLUX_DIAGS) that was appearing in
             several different cases (flux_diags, FLUX_diags). The flux_diags
             name predates the change in MARBL to surface_forcing_diags, which
             is a more appropriate name on the driver side as well.

Files Modified:
M       source/ecosys_driver.F90
M       source/ecosys_tavg.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    8 November 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n21_cesm_pop_2_1_20161026
Tag Summary: Update MARBL to include NHx surface emission bugfix; update
             POP to use more recent initial condition file for CISO. Add tests
             to run with r4 tavg output instead of r8, and don't force PIO to
             use pnetcdf for some tests (should be default anyway, at least on
             yellowstone).

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testlist_pop.xml
M       cime_config/testdefs/testmods_dirs/pop/abio_dic_dic14/shell_commands
M       cime_config/testdefs/testmods_dirs/pop/ciso/shell_commands
A       cime_config/testdefs/testmods_dirs/pop/ciso_daily_r4_tavg
A       cime_config/testdefs/testmods_dirs/pop/ciso_daily_r4_tavg/include_user_mods
A       cime_config/testdefs/testmods_dirs/pop/ciso_daily_r4_tavg/shell_commands
A       cime_config/testdefs/testmods_dirs/pop/daily_r4_tavg
A       cime_config/testdefs/testmods_dirs/pop/daily_r4_tavg/user_nl_pop
A       cime_config/testdefs/testmods_dirs/pop/ecosys_daily_r4_tavg
A       cime_config/testdefs/testmods_dirs/pop/ecosys_daily_r4_tavg/include_user_mods
A       cime_config/testdefs/testmods_dirs/pop/ecosys_daily_r4_tavg/user_nl_pop
M       cime_config/testdefs/testmods_dirs/pop/presaero/shell_commands
M       input_templates/ocn.ecosys.tavg.csh
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy, klindsay
Tag Date:    28 October 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n20_cesm_pop_2_1_20161026
Tag Summary: Add &forcing_pt_interior_nml and &forcing_s_interior_nml to
             ocn.log output

Files Modified:
M       source/forcing_pt_interior.F90
M       source/forcing_s_interior.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy, klindsay
Tag Date:    27 October 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n19_cesm_pop_2_1_20161026
Tag Summary: Code clean-up following review of changes that went in n17

             Round-off level answer change in GECO compsets due to reordering
             computation of BLACK_CARBON_FLUX_CPL and DUST_FLUX_CPL.

Files Modified:
M       bld/namelist_files/namelist_definition_pop.xml
M       drivers/cpl/POP_CplIndices.F90
M       drivers/cpl/ocn_import_export.F90
M       source/forcing_pt_interior.F90
M       source/forcing_s_interior.F90
M       source/strdata_interface_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  jet
Tag Date:    26 October 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n18_cesm_pop_2_1_20161026
Tag Summary: merge latest trunk tag onto marbl_dev (needed to build with
             cime5.2.0-alpha.6 in cesm2_0_beta03)

Files Modified:
 M      .
M       ChangeLog
M       bld/configure
===============================================================================
Tag Creator: mlevy
Developers:  tcraig
Tag Date:    26 October 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n17_cesm_pop_2_1_20161014
Tag Summary: merge Tony's 4D streams and addition ice coupler fields onto
             marbl_dev (came from marbl_dev_tc branch)

             Note that this tag changes answers for GECO cases because of the
             new terms in DUST_FLUX_CPL and BLACK_CARBON_FLUX_CPL; these
             fields do not affect prognostic variables by default, but answer
             change will affect prognostic variables if

             dust_flux_source = 'driver'
             iron_flux_source = 'driver-derived'

             Also, new namelist variables (to allow PT and S restoring via
             shr_stream file reads) cause namelist compare failures for all
             cases running with POP.

Files Modified:
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       drivers/cpl/POP_CplIndices.F90
M       drivers/cpl/POP_MCT_vars_mod.F90
M       drivers/cpl/ocn_comp_esmf.F90
M       drivers/cpl/ocn_comp_mct.F90
M       drivers/cpl/ocn_import_export.F90
M       source/forcing_pt_interior.F90
M       source/forcing_s_interior.F90
M       source/io_types.F90
M       source/strdata_interface_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    21 October 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n16_cesm_pop_2_1_20161014
Tag Summary: merge latest trunk tag onto marbl_dev

Files Modified:
M       ChangeLog
M       bld/build-namelist
M       bld/config_files/definition.xml
M       bld/configure
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/buildlib
M       cime_config/config_component.xml
M       cime_config/config_compsets.xml
M       cime_config/config_pes.xml
M       cime_config/testdefs/testlist_pop.xml
M       cime_config/testdefs/testmods_dirs/pop/abio_dic_dic14/shell_commands
M       cime_config/testdefs/testmods_dirs/pop/abio_dic_dic14_presaero/include_user_mods
M       cime_config/testdefs/testmods_dirs/pop/ciso/shell_commands
M       cime_config/testdefs/testmods_dirs/pop/default/shell_commands
M       cime_config/testdefs/testmods_dirs/pop/ecosys_3steps/shell_commands
M       input_templates/gx1v6_tavg_contents
M       source/baroclinic.F90
M       source/budget_diagnostics.F90
M       source/diagnostics.F90
M       source/estuary_vsf_mod.F90
M       source/forcing.F90
M       source/forcing_coupled.F90
M       source/forcing_sfwf.F90
M       source/grid.F90
M       source/hmix_gm.F90
M       source/ice.F90
M       source/initial.F90
M       source/io_tools.F90
M       source/overflows.F90
M       source/qflux_mod.F90
M       source/restart.F90
M       source/step_mod.F90
M       source/surface_hgt.F90
M       source/tavg.F90
M       source/time_management.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    13 October 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n15_cesm_pop_2_1_20160513
Tag Summary: merge in marbl_dev_levy_n47 (update tracer initialization and
             surface forcing -- driver now controls source of data rather than
             getting that information from MARBL)

Testing: I ran
         * aux_pop       (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_gnu)
         * aux_pop_MARBL (hobart_nag)
         All were bit-for-bit against baselines except the ecosys_restore test
         (which restores the current initial conditions rather than old
         initial conditions)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testmods_dirs/pop/ecosys_restore_gx3v7/user_nl_pop
 M      drivers/cpl
M       source/ecosys_driver.F90
A  +    source/ecosys_forcing_mod.F90
A  +    source/ecosys_tracers_and_saved_state_mod.F90
M       source/passive_tracer_tools.F90
M       source/passive_tracers.F90
M       source/prognostic.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    1 August 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n14_cesm_pop_2_1_20160513
Tag Summary: merge in marbl_dev_klindsay_n15 (add NHx surface emissions)

Testing: I ran
         * aux_pop_MARBL (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_gnu)
         All were bit-for-bit against baselines
         Keith ran same tests as well as aux_pop on yellowstone_intel and
         aux_pop_MARBL on hobart_nag and reports bit-for-bit results as well

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/cice_ecosys_apply_nhx_surface_emis
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_apply_nhx_surface_emis
 M      drivers/cpl
M       input_templates/ocn.ecosys.tavg.csh
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    19 July 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n13_cesm_pop_2_1_20160513
Tag Summary: merge in marbl_dev_levy_n26 (improve initialization)

Testing: Ran the following suites with cime4.5.13 and cice5_20160401
         * aux_pop (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_gnu)
         * aux_pop_MARBL (hobart_nag)
         All were bit-for-bit against baselines, although namelist tests
         failed because the MARBL namelists were renamed and variables were
         moved from one namelist to another.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testlist_pop.xml
 M      drivers/cpl
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    10 June 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n12_cesm_pop_2_1_20160513
Tag Summary: merge in marbl_dev_klindsay_n11 (add ladjust_bury_coeff option)

Testing: Ran the following suites with cime4.5.13 and cice5_20160401
         * aux_pop_MARBL (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_gnu)
         All were bit-for-bit against baselines (cesm_pop_20160513). Keith L
         also ran aux_pop_MARBL on hobart (nag) and aux_pop on yellowstone
         (intel) with the marbl_dev_klindsay tag that is indentical to this
         tag.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testlist_pop.xml
M       cime_config/testdefs/testmods_dirs/pop/cice_ecosys_dust_flux_driver/include_user_mods
D       cime_config/testdefs/testmods_dirs/pop/cice_ecosys_dust_flux_driver/user_nl_pop
A  +    cime_config/testdefs/testmods_dirs/pop/cice_ecosys_ladjust_bury_coeff
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_dust_flux_driver
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_ladjust_bury_coeff
 M      drivers/cpl
M       source/ecosys_driver.F90
M       source/passive_tracers.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    23 May 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n11_cesm_pop_2_1_20160513
Tag Summary: merge in marbl_dev_levy_n20 (generalized saved state source
             code), also includes MARBL tag to clean up some output

Testing: Ran the following suites with cime4.5.8 and cice5_20160401
         * aux_pop       (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_gnu)
         * aux_pop_MARBL (hobart_nag)
         All were bit-for-bit against baselines (cesm_pop_20160513)

         Also generated new baselines with cime4.5.13 (sometime between May 21
         and May 23, CISL broke netcdf module that was used by cime4.5.8)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
 M      drivers/cpl
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    13 May 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n10_cesm_pop_2_1_20160513
Tag Summary: merge in latest trunk tag (book-keeping, merge, no change to
             source code)

Files Modified:
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    13 May 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n09_cesm_pop_2_1_20160504a
Tag Summary: merge in latest trunk tag

Testing: Ran the following suites with cime4.5.8 and cice5_20160401
         * aux_pop_MARBL (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_gnu)
         Same as previous tag results: all were bit-for-bit against baselines
         (n07 tag), with some expected FAILS.

Files Modified:
M       ChangeLog
M       bld/build-namelist
M       bld/config_files/definition.xml
M       bld/configure
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
A  +    input_templates/ocn.sf6.tavg.csh
M       source/POP_DistributionMod.F90
M       source/POP_SpaceCurveMod.F90
M       source/distribution.F90
M       source/domain.F90
M       source/passive_tracers.F90
M       source/restart.F90
A  +    source/sf6_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  klindsay
Tag Date:    13 May 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n08_cesm_pop_2_1_20160426
Tag Summary: merge in work from marbl_dev_klindsay_n07 tag
             Update to version of MARBL that has support for dust_flux coming
             from the coupler (along with black_carbon_flux for computing
             iron_flux).

Testing: Ran the following suites with cime4.5.8 and cice5_20160401
         * aux_pop_MARBL (yellowstone_intel)
         * aux_pop_MARBL (yellowstone_gnu)
         * aux_pop_MARBL (hobart_nag)
         * aux_pop       (yellowstone_intel)
         All were bit-for-bit against baselines (n06 / n07 tags of this branch),
         the only FAILs were expected:
         1) there's a known issue with compare_namelist.pl in this CIME tag, so
            all the namelist comparison tests failed (adding new variables to a
            namelist should not trigger a failure and updating the comparison
            script results in a PASS)
         2) The SMS_Ld2_D test still fails on hobart because of a known issue in
            POP when running in DEBUG mode with the nag compiler
         3) The baseline compare of the cice_ecosys_dust_flux_driver test failed
            because that was a new test introduced in this tag - it tests a
            feature that didn't exist in previous tags. This test is a restart
            test, and it did pass the bit-for-bit restart test.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/cice_ecosys_dust_flux_driver
 M      drivers/cpl
M       drivers/cpl/ocn_import_export.F90
M       input_templates/ocn.ecosys.tavg.csh
M       source/ecosys_driver.F90
M       source/forcing.F90
M       source/forcing_coupled.F90
M       source/forcing_fields.F90
M       source/passive_tracers.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    3 May 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n07_cesm_pop_2_1_20160426
Tag Summary: Update to version of MARBL that has "use_status_log" bugfix

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       source/ecosys_driver.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy, klindsay
Tag Date:    2 May 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n06_cesm_pop_2_1_20160426
Tag Summary: Bring in latest MARBL tag, which fixes issue in ciso diagnostics
             for NAG and GNU (initializing a field_3d array that hasn't been
             allocated - should be field_2d array, but really we don't need
             to initialize at all because field is over-written in the
             compute_vertical_integral routine). Also, a couple of updates to
             get ciso running on hobart_nag out of the box:
             1. Update build-namelist so we only write ciso_atm_d1[34ac]_filename
                to namelist if ciso_atm_d1[34]c_opt is not 'const'
             2. Add a couple of ciso tests to aux_pop_MARBL for hobart_nag.
                I added SMS_Ld2 (2 day run) and SMS_Ld2_D (2 day run, with
                DEBUG = TRUE), both at T62_g37 resolution. Note that the DEBUG
                test fails in grid.F90, which is a known POP issue and not a
                problem with MARBL or the driver.

Testing:
        aux_pop_MARBL tests passed and are bit-for-bit with baselines from
        marbl_dev_n05 on yellowstone_intel. I added two new tests to the 
        hobart_nag part of the suite; all 4 tests pass and the 2 old tests
        were also bit-for-bit with baselines (on both hobart_nag and
        yellowstone_gnu)

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       cime_config/testdefs/testlist_pop.xml
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    1 May 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n05_cesm_pop_2_1_20160426
Tag Summary: Merge latest trunk tag - brings in estuary box model and
             work-around for gfortran bug that breaks build of ecosys_tavg

Files Modified:
 M      .
M       ChangeLog
M       bld/build-namelist
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       source/baroclinic.F90
M       source/ecosys_tavg.F90
A  +    source/estuary_vsf_mod.F90
M       source/forcing_coupled.F90
M       source/initial.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    1 May 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n04_cesm_pop_2_1_20160407
Tag Summary: Merge changes from marbl_dev_levy (tracer_update branch of MARBL)

             This cleans up the tracer indexing, especially for cases using
             both the base ecosys and the ciso modules. Some namelist varibles
             dealing with surface averages / virtual fluxes have been moved
             from MARBL to the driver, and the POP routine that reads a block
             of tracers from an initial condition file has been re-factored to
             allow us to read ecosys tracers & ciso tracers one-by-one.
             (Rather than needing to know which tracers come from the base
             module and which come from ciso, each tracer now contains the
             name of it's tracer module in the metadata.)

Testing:
             All aux_pop and aux_pop_MARBL tests pass on yellowstone_intel.
             Baseline comparisons also pass, though some namelist comparisons
             fail (due to variables being moved from MARBL namelist to POP /
             driver namelist). Tested with CIME 4.4.8 and CICE 20160309. Will
             bring in latest trunk next, and the generate baselines (running
             hobart_nag on yellowstone with GNU compiler for wider testing).

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/configure
M       bld/namelist_files/namelist_defaults_pop.xml
M       bld/namelist_files/namelist_definition_pop.xml
M       source/ecosys_driver.F90
M       source/passive_tracer_tools.F90
M       source/passive_tracers.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    7 Apr 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n03_cesm_pop_2_1_20160407
Tag Summary: Merge latest trunk tag

Files Modified:
 M      .
M       ChangeLog
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    5 Apr 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n02_cesm_pop_2_1_20160317b
Tag Summary: Update to newer version of MARBL that includes generalized
             surface forcing output data type (requires driver update as
             well). Note that we now zero out named fields when they are
             registered instead of requiring POP to call named_field_set with
             an array of zeros after registering new fields.

Files Modified:
 M      .
M       SVN_EXTERNAL_DIRECTORIES
M       source/ecosys_driver.F90
M       source/named_field_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    18 Mar 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n01_cesm_pop_2_1_20160317b
Tag Summary: Merge latest trunk tag

Files Modified:
M       ChangeLog
M       SVN_EXTERNAL_DIRECTORIES
M       bld/build-namelist
M       bld/namelist_files/namelist_definition_pop.xml
M       cime_config/buildlib
M       cime_config/testdefs/testlist_pop.xml
A  +    cime_config/testdefs/testmods_dirs/pop/ecosys_shr_stream
D       source/co2calc_column.F90
D       source/ecosys_ciso_mod.F90
D       source/ecosys_constants.F90
D       source/ecosys_diagnostics_mod.F90
M       source/ecosys_driver.F90
D       source/ecosys_mod.F90
D       source/ecosys_restore.F90
D       source/ecosys_restore_timescale_file.F90
D       source/ecosys_restore_timescale_interp.F90
M       source/ecosys_tavg.F90
M       source/ice.F90
D       source/marbl_ciso_mod.F90
D       source/marbl_interface.F90
D       source/marbl_interface_constants.F90
D       source/marbl_interface_types.F90
D       source/marbl_kinds.F90
D       source/marbl_namelist_mod.F90
D       source/marbl_oxygen.F90
D       source/marbl_parms.F90
D       source/marbl_share.F90
M       source/passive_tracers.F90
M       source/strdata_interface_mod.F90
===============================================================================
Tag Creator: mlevy
Developers:  mlevy
Tag Date:    2 Mar 2016
Tag Name:    pop2/branch_tags/marbl_dev_tags/marbl_dev_n00_cesm_pop_2_1_20160222
Tag Summary: Initial branch tag, identical to cesm_pop_2_1_20160222 trunk tag
===============================================================================
